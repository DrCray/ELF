<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vampire Bites Victim - Podcast</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body{font-family:'Poppins',sans-serif;line-height:1.4;color:#1a1a1a;background:#f0f4f8;margin:0;padding:0}
    .header{padding:.8rem .8rem .8rem 1.8rem;font-weight:600;font-size:1.3rem;color:white;border-radius:3px;
            background:linear-gradient(135deg,#ff6b6b,#4ecdc4);box-shadow:0 3px 6px gray}
    .container{width:100%;max-width:35rem;margin:0 auto;padding:1.5rem 1rem;background:#F7EDF4;
               border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.05);box-sizing:border-box}
    h2{font-size:2rem;color:#2c3e50;margin-bottom:1.3rem;font-weight:700;border-bottom:3px solid #ff6b6b;
       padding-bottom:.5rem;transition:color .3s}h2:hover{color:#FB6D6D}
    h3{font-size:1rem;color:#52C2B9;font-weight:600}
    p,ul{font-size:.8rem;color:#4a4a4a;margin-bottom:.8rem}
    ul{padding-left:1rem;list-style:none}
    ol{padding-left:1rem;}
    ul>li{margin-bottom:.8rem;position:relative;padding-left:.8rem;   }
    ul>li:before{content:'•';color:#ff6b6b;position:absolute;left:0;top:.2rem}
    audio{width:100%;margin:1.2rem 0;border-radius:8px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}
    a{color:#ff6b6b;text-decoration:none;transition:color .3s}a:hover{color:#4ecdc4;text-decoration:underline}
    .section{border:thin solid #F6C1E6;background:#f9f9f9;padding:1rem;border-radius:8px;
             margin-bottom:1.1rem;transition:transform .3s,box-shadow .3s;position:relative}
    .section:hover{transform:translateY(-5px);box-shadow:0 6px 12px rgba(0,0,0,.1)}
    .sectionTop{border:thin solid #F6C1E6;background:#f9f9f9;padding:1rem;border-radius:8px;margin-bottom:1.1rem}
    #sectionTemplate{display:none}
    .editor-panel{position:fixed;top:10px;right:10px;background:rgba(255,255,255,.97);padding:14px;
                  border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.15);z-index:9999;
                  font-family:'Poppins',sans-serif;font-size:.85rem;min-width:10rem;max-width:15rem;}
    .editor-panel input,.editor-panel button{width:100%;margin:6px 0;padding:8px 10px;
                  font-size:.85rem;border:1px solid #ddd;border-radius:6px}
    .editor-panel button{background:#ff6b6b;color:white;font-weight:600;cursor:pointer;
                        transition:background .3s}
    .editor-panel button:hover{background:#4ecdc4}
    .delBtn,.link-del{background:#ff6b6b;color:white;border:none;padding:2px 6px;
                      font-size:.65rem;cursor:pointer;border-radius:3px;margin-left:8px}
    .edit-spacer{height:1px;margin:8px 0;user-select:none;contenteditable:false}
    .editMode{display:block}
  </style>
</head>
<body>
  <!-- EDITOR PANEL -->
  <div class="editor-panel editMode" style="display: none;">
    <strong>Editor Tools</strong>
    <hr style="margin:8px 0;border:none;border-top:1px solid #eee">
    <label>Display Text<br><input id="linkText" placeholder="e.g. Watch on YouTube"></label>
    <label>URL<br><input id="linkUrl" placeholder="e.g. https://youtu.be/..."></label>
    <button id="btnAddLink">+ Add Link</button>
    <label>Audio File<br><input id="audioInput" placeholder="podcast.webm"></label>
    <button id="btnRestoreAudio">+ Restore Audio</button>
    <label>Save As<br><input id="filenameInput" value="myPodcastPage.html"></label>
    <button id="btnSave">Save as Local File</button>
    <button id="btnAdd">+ Add Section</button>
  </div>
  <div class="container">
    <div class="header">Dr. Ray's English Lessons</div><br>
    <div class="sectionTop">
      <h2 id="articleTitle" style="color:#52C2B9;">Vampire Bites Victim - Podcast</h2>
      <p>After a night out, Ella narrowly escapes a violent attack by Tom, a man convinced he's a vampire. Unbeknownst to him, Tom's terrifying behavior was triggered by Rohypnol-laced party punch, causing memory loss and hallucinations. Both victims, traumatized but unharmed, are left reeling as police search for the true culprit—the person who drugged the punch and set off this harrowing chain of events.</p>
      <div id="linksSection" style="text-align:right;width:100%"><a href="https://youtu.be/REqSGbrLa1A" target="_blank" style="font-size: 85%; display: block; text-align: right;">Watch On YouTube</a><button class="link-del editMode" style="margin-left: 8px; font-size: 0.7rem; display: none;">X</button><a href="https://drcray.github.io/ELF/ss1/vampireBitesVictimPodcastScrambled.html" target="_blank" style="font-size: 85%; display: block; text-align: right;">Scrambled Sentences</a><button class="link-del editMode" style="margin-left: 8px; font-size: 0.7rem; display: none;">X</button></div>
    </div><br>
    <!-- AUDIO BLOCK -->
    <div id="pseudoAudioPlayerWithLink" style="position: relative;">
  <audio controls="" style="width: 100%; height: 100%;">
    <source src="" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
  <a id="pseudoLinkOut" href="https://youtu.be/REqSGbrLa1A" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            text-indent: -9999px; background: rgba(0,0,0,0); z-index: 10;" target="blank"></a>
</div>
    <br>
    <!-- TEMPLATE -->
    <div id="sectionTemplate">
      <h3>New Section</h3>
      <ul>
        <li><p><span>Host</span>: Edit this...</p></li>
        <li><p><span>Guest</span>: Edit this...</p></li>
      </ul>
      <ol>
        <li><p><span>Host</span>: So, have you ever given someone a thumbs up...</p></li>
      </ol>
      <p>[plain text here]</p>
      <button class="delBtn editMode" onclick="this.parentElement.remove()" style="display: none;">delete</button>
    </div>
    <!-- SECTION 1 -->
    <div class="section"><h3><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A Chilling Night Takes a Dark Turn</span></h3>
      <ul>
        <li><p><span><strong>Host:</strong> Honestly, have you ever had that feeling—walking home late at night, totally convinced someone's behind you? That’s exactly where Ella found herself after a night out. Midnight, footsteps echoing, and suddenly that prickling chill up her spine.</span></p></li><li><p><span><strong>Guest:</strong> That sense of unease is so real. I mean, I get jumpy just hearing a squirrel in the bushes! But for Ella, it wasn’t just nerves—something genuinely was lurking. The way she fumbled her keys, you can almost feel her panic building.</span></p></li><li><p><span><strong>Host:</strong> Right, and the moment her key turns—a man leaps from the shadows and grabs Ella. He’s not just attacking her, he’s gone totally feral. Growling, wild-eyed, and saying the creepiest thing: 'I need your blood.'</span></p></li><li><p><span><strong>Guest:</strong> Maybe because of her adrenaline rush, I don't know, but&nbsp; instead of freezing up, she fights back. Kicking, clawing—she’s determined to survive, even if she’s terrified.</span></p></li><li><p><span><strong>Host:</strong> Exactly, and that fight-or-flight instinct really kicked in. She barely escaped, running into the parking lot. Fortune was on her side, though, because at that very moment—her friend pulled up.<br>&nbsp;&nbsp;<br></span></p><h3><span>A Desperate Escape and a Terrifying Pursuit</span></h3></li><li><p><span><strong>Guest:</strong> Imagine the relief mixed with panic as you see a
familiar car and someone yelling, 'Get in now!' Ella barely made it, 
just slams the door as the attacker’s right there, pounding and 
shrieking.</span><span>&nbsp;</span></p></li><li><p><span></span><span><strong>Host:</strong> That kind of timing feels unreal, right? It’s like every horror movie chase scene, but happening to real people. They speed off, while the guy’s left howling in the parking lot.</span></p></li><li><p><span>&nbsp;<strong>Guest:</strong> And that's not really the end of the story. The police show up minutes later and find the guy—Tom—standing in his underwear, literally howling at the moon. That image is just bizarre.</span></p></li><li><p><span><strong>Host:</strong> Yeah, and then Tom begs them to restrain him, saying he’s a vampire but doesn't want to hurt anyone. The cops were a bit surprised, but it didn't take them long to figure out this guy's probably on drugs.</span></p></li><li><p><span><strong>Guest:</strong> That actually sets up a whole new mystery: Who is this guy, and why was he convinced he needed blood? I mean, even if he was drunk or high, there has to be more to the story.&nbsp;&nbsp;<br><br></span></p><h3><span>The Aftermath: Confusion and Horrified Realization</span></h3></li><li><p><span>&nbsp;<strong>Host:</strong> That's right. So once he’s in the police station, his head starts to clear up--sobering up, I should say. He sees scratches on his arms, doesn't know where they came from and doesn't know why he's there. The police tell him what he did and he has no recollection of the incident whatsoever.</span></p></li><li><p><span><strong>Guest:</strong> It’s hard to imagine waking up in a jail cell and being told you attacked someone. Tom’s never been in trouble before; he’s genuinely confused and terrified. That gap in his memory must be terrifying.</span></p></li><li><p><span><strong>Host:</strong> Exactly. The police walk in and explain what happened, and Tom is floored. He can’t recall any of it. It must feel like you’re hearing about someone else's nightmare, only to realize it’s yours.</span></p></li><li><p><span><strong>Guest:</strong> I can’t help but wonder what happened right before that blackout. I mean, nobody just snaps like that out of nowhere unless there’s something deeper going on.&nbsp;&nbsp;<br><br></span></p><h3><span>Piecing Together the Night Before</span></h3></li><li><p><span>&nbsp;<strong>Host:</strong> So, here’s where things get really interesting. Tom remembers being at a party earlier—music, friends, the whole vibe. He grabs some punch, takes a few sips, and then the world just starts melting away.&nbsp;</span></p></li><li><p><span><strong>Guest:</strong> That’s the scary part—he describes the room twisting into a dungeon, people turning into monsters. It’s like his brain just flipped a switch. He remembers running out, and then nothing else.</span></p></li><li><p><span><strong>Host:</strong> It’s wild to think a simple drink could completely warp someone’s reality. That kind of hallucination is beyond what you’d expect from alcohol alone.</span></p></li><li><p><span><strong>Guest:</strong> Totally. It’s almost like his mind got hijacked. The police have experience with these kinds of incidents, so someone got the idea that maybe something was slipped into the punch.</span></p></li><li><p><span><strong>Host:</strong> Which, as it turns out, is exactly what happened.&nbsp;<br>&nbsp;&nbsp;<br><br></span></p><h3><span>The Real Monster: Drugged Punch and Unintended Victims</span></h3></li><li><p><span><strong>Guest:</strong> Turns out, investigators found Rohypnol in the party punch—one of those drugs that can wipe your memory and mess with your perception of reality. Suddenly, Tom’s bizarre behavior makes sense.</span></p></li><li><p><span>&nbsp;<strong>Host:</strong> And it’s heartbreaking. Two people—Ella and Tom—both ended up traumatized because someone decided to poison the party. It’s like the true villain was never in that parking lot at all.</span></p></li><li><p><span>&nbsp;<strong>Guest:</strong> That’s what chills me most. It wasn't some huge ugly monster but a real person, hiding in plain sight, who nearly destroyed two lives with one reckless act.</span></p></li><li><p><span><strong>Host:</strong> So in the end, Ella’s okay and Tom is released without charge, but the police are still hunting for whoever spiked the punch. It’s a sobering reminder how one night’s fun can turn into a nightmare because of one bad person's actions.</span></p></li><li><p><span><strong>Guest:</strong> It really makes you think twice about drinking at parties. I mean, not just the punch, if you're not careful someone could just as easily poison your cup. There’s a lesson in here about staying alert—but also about the ripple effects of invisible threats.</span></p></li></ul><button class="delBtn editMode" onclick="this.parentElement.remove()" style="display: none;">delete</button>
    </div>
    <div class="edit-spacer editMode" style="display: none;"></div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const $ = s => document.querySelector(s);
  const linkText = $('#linkText');
  const linkUrl = $('#linkUrl');
  const audioIn = $('#audioInput');
  const fileIn = $('#filenameInput');
  const linksSec = $('#linksSection');
  const container = $('.container');

  // Init audio field
  const srcEl = $('#pageAudio source');
  if (srcEl) audioIn.value = srcEl.src.split('/').pop();

  // ADD LINK (FIXED: separate link + delete button)
  $('#btnAddLink').onclick = () => {
    const text = linkText.value.trim();
    const url = linkUrl.value.trim();
    if (!text || !url) return alert('Fill both fields');

    const link = document.createElement('a');
    link.href = url;
    link.target = '_blank';
    link.textContent = text;
    link.style = 'font-size:85%; display:block; text-align:right;';

    const del = document.createElement('button');
    del.textContent = 'X';
    del.className = 'link-del editMode';
    del.style = 'margin-left:8px; font-size:0.7rem;';
    del.onclick = () => { link.remove(); del.remove(); };

    linksSec.appendChild(link);
    linksSec.appendChild(del);

    linkText.value = linkUrl.value = '';
    linkText.focus();
  };

  // RESTORE AUDIO (FIXED: only delete button has editMode)
  $('#btnRestoreAudio').onclick = () => {
    if ($('#audioWrapper')) return;
    const wrapper = document.createElement('div');
    wrapper.id = 'audioWrapper';
    wrapper.style.margin = '1.5rem 0';
    wrapper.innerHTML = `
      <div style="text-align:center; font-weight:600; margin-bottom:.3rem">
        Listen to the Podcast
        <button class="link-del editMode" style="font-size:.7rem; margin-left:8px;"
                onclick="this.parentElement.parentElement.remove()">Delete Audio</button>
      </div>
      <div style="text-align:center">
        <audio controls style="width:98%; margin:0 auto" id="pageAudio">
          <source src="" type="audio/mpeg">
        </audio>
      </div>
    `;
    document.querySelector('.sectionTop').insertAdjacentElement('afterend', wrapper);
    audioIn.value = '';
  };

  // ADD SECTION (FIXED: add editMode to delBtn and spacer)
  $('#btnAdd').onclick = () => {
    const clone = $('#sectionTemplate').cloneNode(true);
    clone.removeAttribute('id');
    clone.style.display = 'block';
    clone.className = 'section';
    clone.contentEditable = 'true';

    const delBtn = clone.querySelector('.delBtn');
    delBtn.classList.add('editMode');
    delBtn.onclick = () => clone.remove();

    container.appendChild(clone);

    const sp = document.createElement('div');
    sp.className = 'edit-spacer editMode';
    sp.contentEditable = 'false';
    container.appendChild(sp);
  };

  // SAVE (WORKS: hides only editMode, restores, saves clean)
$('#btnSave').onclick = () => {
  // 1. Update <title>
  const h2 = document.getElementById('articleTitle');
  const title = document.querySelector('title');
  if (h2 && title) title.textContent = h2.textContent.trim();

  // 2. Update audio
  const audioInput = audioIn.value.trim();
  const audioSource = document.querySelector('#pageAudio source');
  if (audioSource && audioInput) audioSource.src = audioInput;

  // 3. HIDE editMode elements
  const editElements = document.querySelectorAll('.editMode');
  editElements.forEach(el => el.style.display = 'none');

  // 4. DISABLE contenteditable
  const editableEls = document.querySelectorAll('[contenteditable]');
  const wasEditable = [];
  editableEls.forEach(el => {
    wasEditable.push(el);
    el.removeAttribute('contenteditable');
  });

  // 5. Capture clean HTML
  const cleanHTML = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;

  // 6. RESTORE contenteditable
  wasEditable.forEach(el => el.setAttribute('contenteditable', 'true'));

  // 7. RESTORE visibility
  editElements.forEach(el => el.style.display = 'block');

  // 8. Download
  const blob = new Blob([cleanHTML], { type: 'text/html' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = fileIn.value.trim() || 'podcast.html';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);

  // 9. Alert and confirm save editable version
let saveEditableVersion = confirm("Saved to default download folder.\nSave an editable version?");

if (!saveEditableVersion) return;  // Exit function if Cancel

  // === 10. SAVE EDITABLE VERSION ===
const editHTML = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;
const editBlob = new Blob([editHTML], { type: 'text/html' });
const editUrl = URL.createObjectURL(editBlob);
const editA = document.createElement('a');
const baseName = fileIn.value.trim() || 'podcast.html';
const editName = baseName.replace(/\.html$/, '') + 'EditMode.html';
editA.href = editUrl;
editA.download = editName;
document.body.appendChild(editA);
editA.click();
document.body.removeChild(editA);
URL.revokeObjectURL(editUrl);

};

  // Enter = Add Link
  linkText.onkeypress = linkUrl.onkeypress = e => {
    if (e.key === 'Enter') $('#btnAddLink').click();
  };
});
</script>





</body></html>