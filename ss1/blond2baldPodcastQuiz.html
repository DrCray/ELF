<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Scramble: Mary Koffman</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: #f4f7f6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 { text-align: center; color: #2c3e50; }
        h2 { border-bottom: 2px solid #3498db; padding-bottom: 5px; margin-top: 40px; color: #2980b9; }
        p.instructions { text-align: center; font-style: italic; color: #666; }

        .section { margin-bottom: 30px; }
        
        .dialog-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .line {
            padding: 12px 15px;
            border-radius: 8px;
            background-color: #fff;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            position: relative;
        }

        .line:hover { border-color: #3498db; }

        /* Indicator for first item clicked */
        .selected {
            border-color: #f39c12 !important;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
            transform: scale(1.02);
            z-index: 10;
        }

        /* Feedback Colors */
/* Feedback Colors - Subtle Shades */
.correct {
    background-color: #e6f4ea !important; /* Very light mint green */
    border-color: #c3e6cb !important;
}

.incorrect {
    background-color: #fce8e6 !important; /* Very light rose/pink */
    border-color: #f5c6cb !important;
}

        .speaker-label {
            font-weight: bold;
            display: block;
            font-size: 0.8em;
            text-transform: uppercase;
            margin-bottom: 4px;
            color: #7f8c8d;
        }
.submission-area {
    margin-top: 40px;
    padding: 20px;
    background: #fff;
    border-radius: 8px;
    text-align: center;
    border: 1px solid #ddd;
}
.input-group {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 15px;
}
input {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: 200px;
}
button {
    padding: 10px 20px;
    cursor: pointer;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    font-weight: bold;
}
button:disabled {
    background-color: #bdc3c7;
    cursor: not-allowed;
}
.error-msg {
    color: #e74c3c;
    font-size: 0.9em;
    margin-top: 8px;
}
/* Hide the inputs and button when actually printing the PDF */
@media print {
    .submission-area, .instructions, .selected {
        display: none;
    }
}        
    </style>
</head>
<body>

    <h1>Podcast Scramble</h1>
    <p class="instructions">Mary Koffman: More Than Just a Blonde. <br> 
    Click two lines to swap them. Green means correct position, Red means incorrect.</p>

    <div id="game-board"></div>

<hr>
<div class="submission-area">
    <div class="input-group">
        <input type="text" id="studentName" placeholder="Name" oninput="validateForm()">
        <input type="text" id="studentID" placeholder="ID" oninput="validateForm()">
    </div>
        <p id="msg" class="error-msg">Name and ID required for PDF print/save</p>
    <button id="printBtn" onclick="window.print()" disabled>Print/Save to PDF</button>

</div>



    <script>
const quizData = [
    {
        title: "Mary Koffman: More Than Just a Blonde",
        lines: [
            { s: "Host", t: "Alright, let’s dive into Mary Koffman’s unbelievable day. I mean, talk about overachieving—chemistry degree, biology master’s, a PhD in forensic science, and even a law degree! You’d expect her colleagues to be rolling out the red carpet." },
            { s: "Guest", t: "You’d think so, but nope—she kept running into that old stereotype just because she was a natural blonde. It’s wild how people can get stuck on appearances, even when someone’s resume is basically a small book." },
            { s: "Host", t: "Right? And to make things worse, she had to put up with those tired blonde jokes everywhere she went. I honestly can’t blame her for wanting to shake things up." },
            { s: "Guest", t: "Totally. So, she goes for the classic move and books a salon appointment to become a brunette, just to see if it would finally change how people see her." }
        ]
    },
    {
        title: "A Salon Disaster No One Saw Coming",
        lines: [
            { s: "Host", t: "Now, this is where things take a turn for the bizarre. Everything’s going perfectly—Mary’s in the chair, dye’s on, everyone’s chatting. The stylist tries to rinse out the color and… nothing. No water." },
            { s: "Guest", t: "That’s the part that still gets me. A salon without water is like a bakery running out of flour! Turns out, the water company had shut everything off, claiming the bills hadn’t been paid." },
            { s: "Host", t: "Which, by the way, the stylist actually had paid! It was just a massive screw-up—the water company sent the payments to the wrong account. Can you imagine the panic in that salon?" },
            { s: "Guest", t: "I’d be freaking out, too. The poor stylist tells Mary to sprint home and wash out the dye herself, but by the time she gets there, the damage is done. The chemicals stayed in way too long." }
        ]
    },
    {
        title: "From Blonde to Bald—And a Wig for Good Measure",
        lines: [
            { s: "Host", t: "Honestly, when I picture her rinsing out her hair and realizing it’s just coming out in clumps… that’s nightmare fuel. By the end, Mary’s only option was to shave the rest and start over." },
            { s: "Guest", t: "And because of a water bill mess-up! What surprised me most is the way the company tried to fix it—apparently, they sent her a brunette wig. I mean, I guess that’s… something?" },
            { s: "Host", t: "It’s almost comical, if it weren’t so awful. Now Mary and the stylist are teaming up to sue the water company. It’s like a bad joke—except this time, the punchline really hurt." },
            { s: "Guest", t: "I keep thinking about how she just wanted people to take her seriously, and ended up with the ultimate hair disaster. Sometimes it’s not the jokes that get you—it’s a paperwork blunder." }
        ]
    },
    {
        title: "Lessons Learned: More Than Skin (or Hair) Deep",
        lines: [
            { s: "Host", t: "So, what do you take away from Mary’s story? Besides double-checking your water bills, of course." },
            { s: "Guest", t: "Honestly, it makes me wonder how often people get misjudged just because of how they look. Mary had all the credentials, but still had to go to wild lengths just to change a perception." },
            { s: "Host", t: "Yeah, and in the end, it wasn’t her hair color that tripped her up—it was a totally random mistake. Life really does have a sense of humor sometimes." },
            { s: "Guest", t: "You know, maybe the real moral is that sometimes, what messes us up isn’t what we expect—sometimes it’s just someone else’s accounting error. Stay curious, folks." }
        ]
    }
];

let selectedElement = null;

// Function to shuffle indices so that no index matches its original position
function getDerangedIndices(length) {
    let indices = Array.from({length}, (_, i) => i);
    let scrambled = [...indices];
    
    // Fisher-Yates shuffle with a check
    do {
        for (let i = scrambled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [scrambled[i], scrambled[j]] = [scrambled[j], scrambled[i]];
        }
    } while (scrambled.some((val, idx) => val === idx));
    
    return scrambled;
}

function initGame() {
    const board = document.getElementById('game-board');
    board.innerHTML = ''; // Clear board for fresh start
    
    quizData.forEach((section, sectionIdx) => {
        const sectionDiv = document.createElement('div');
        sectionDiv.className = 'section';
        sectionDiv.innerHTML = `<h2>${section.title}</h2>`;
        
        const container = document.createElement('div');
        container.className = 'dialog-container';
        
        // Generate a derangement so every line starts in the wrong place
        const scrambledIndices = getDerangedIndices(section.lines.length);

        scrambledIndices.forEach((originalIdx) => {
            const lineData = section.lines[originalIdx];
            const lineEl = document.createElement('div');
            lineEl.className = 'line';
            lineEl.dataset.originalIndex = originalIdx;
            lineEl.dataset.sectionIndex = sectionIdx;
            lineEl.innerHTML = `<span class="speaker-label">${lineData.s}</span> <span class="text">${lineData.t}</span>`;
            
            lineEl.onclick = () => handleSelection(lineEl);
            container.appendChild(lineEl);
        });

        sectionDiv.appendChild(container);
        board.appendChild(sectionDiv);
        checkColors(container);
    });
}

function handleSelection(el) {
    if (!selectedElement) {
        selectedElement = el;
        el.classList.add('selected');
    } else {
        if (selectedElement === el) {
            el.classList.remove('selected');
            selectedElement = null;
            return;
        }

        if (selectedElement.dataset.sectionIndex === el.dataset.sectionIndex) {
            const parent = el.parentNode;
            const nextToEl = el.nextSibling;
            const nextToSelected = selectedElement.nextSibling;

            parent.insertBefore(el, nextToSelected);
            parent.insertBefore(selectedElement, nextToEl);
            
            checkColors(parent);
        }

        selectedElement.classList.remove('selected');
        selectedElement = null;
    }
}

function checkColors(container) {
    const lines = container.querySelectorAll('.line');
    lines.forEach((line, currentIndex) => {
        if (parseInt(line.dataset.originalIndex) === currentIndex) {
            line.classList.add('correct');
            line.classList.remove('incorrect');
        } else {
            line.classList.add('incorrect');
            line.classList.remove('correct');
        }
    });
}

initGame();



function validateForm() {
    const name = document.getElementById('studentName').value.trim();
    const id = document.getElementById('studentID').value.trim();
    const btn = document.getElementById('printBtn');
    const msg = document.getElementById('msg');

    if (name !== "" && id !== "") {
        btn.disabled = false;
        msg.style.visibility = "hidden";
    } else {
        btn.disabled = true;
        msg.style.visibility = "visible";
    }
}
    </script>
</body>
</html>
