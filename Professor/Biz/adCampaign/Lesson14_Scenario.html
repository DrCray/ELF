<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson14_Scenario</title>
    <style>
        body {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }

        .student-info-container {
            padding: 10px;
        }

        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 10px;
            font-size: 16px;
        }

        .pdf-button {
            padding: 10px 10px;
            font-size: 16px;
            cursor: pointer;
        }

        .pdf-button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        .note {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }

        .save-container {
            padding: 10px;
        }

        .file-input-group {
            margin-bottom: 15px;
        }

        .file-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .file-input-group input {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            font-size: 16px;
        }

        /* Lesson Content Styles */
        .lessonContent {
            padding: 20px 10px;
        }

        .lessonContent[contenteditable="true"] {
            border: 2px dashed #4CAF50;
            background-color: #f9fff9;
            padding: 15px;
        }

        .lesson-header {
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .lesson-header h1 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #333;
        }

        .lesson-header .subtitle {
            color: #666;
            font-style: italic;
            font-size: 14px;
        }

        .scenario-overview {
            background-color: #f5f5f5;
            border-top: 4px solid #FF9800;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }

        .scenario-overview h2 {
            margin-top: 0;
            font-size: 18px;
            color: #2196F3;
        }

        .scenario-overview p {
            margin: 10px 0;
        }

        .participants {
            font-size: 14px;
            color: #555;
            margin-top: 10px;
        }

        .participants strong {
            color: #333;
        }

        .dialogue-section {
            margin-top: 30px;
        }

        .dialogue-section h2 {
            font-size: 18px;
            color: #333;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }

        .dialogue-line {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #2196F3;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.15);
        }

        .speaker {
            font-weight: bold;
            color: #1976D2;
            margin-bottom: 3px;
        }

        .speech {
            margin-left: 20px;
            text-align: justify;
        }

        /* Highlighting styles */
        .idiom {
            color: #D84315;
        }

        .vocab-a2 {
            color: #1565C0;
        }

        .collocation {
            color: #7B1FA2;
        }
    </style>
</head>
<body>
 <div class="lessonContent" contenteditable="false">
    <div class="lesson-header">
        <h1>Lesson 14: Creative Music Video Concept Development</h1>
        <p class="subtitle">Scenario 14: Brainstorming the "Beautiful Years" Campaign</p>
    </div>

    <div class="scenario-overview">
        <h2>Scenario Overview</h2>
        <p>Kashira and Jenny approach Sally and Sarah with an innovative idea: instead of traditional commercials, they propose creating a <span class="collocation">full-scale music video</span> that features both celebrities while showcasing the Just4you line of cosmetics and perfumes. The team agrees this concept would <span class="idiom">outdo</span> a <span class="collocation">traditional ad campaign</span>. In this creative brainstorming session, they develop the video's narrative arc—from intimate nighttime family moments and skincare routines, through <span class="collocation">morning chaos</span> with children and pets, to professional makeup application backstage, culminating in a <span class="collocation">power concert performance</span> and ending with a <span class="vocab-a2">multigenerational</span> family reunion. The song will be titled "Beautiful Years," creating natural <span class="vocab-a2">integration</span> of the brand name while celebrating beauty at every stage of life.</p>

        <div class="participants">
            <strong>Participants:</strong> Kashira (Global Superstar), Jenny Rodrigez (Global Superstar), Sarah (Marketing Manager), Sally (Company President)
        </div>
    </div>

    <div class="dialogue-section">
        <h2>Dialogue</h2>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">Sally, Sarah, we've been thinking. What if instead of doing <span class="collocation">traditional commercials</span>, we create a <span class="collocation">full-scale music video</span>? Something that features both of us and really showcases the Just4you line in an <span class="vocab-a2">authentic</span>, creative way.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">Exactly! We think it could <span class="idiom">outdo</span> a <span class="collocation">traditional ad campaign</span> completely. We could make something truly memorable that celebrates beauty, family, and real life.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sally:</div>
            <div class="speech">That's brilliant! A music video would definitely create a lot of buzz. So, do you have anything <span class="idiom">in mind</span> for the video?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sarah:</div>
            <div class="speech">Before we get too far, we should decide on the tone. Will this be a <span class="collocation">power song</span>—something energetic and uplifting? Or are we going more heartfelt and emotional? One thing's for sure though, it has to feature children. Since our <span class="collocation">target market</span> is middle-aged women, they need to see <span class="collocation">family connections</span>.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">Oh, certainly! And puppies too—everyone loves puppies. We could show real family moments, you know? The <span class="vocab-a2">authentic</span> side of our lives that people don't always see.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">It makes the whole thing relatable. Real women juggling real lives.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sally:</div>
            <div class="speech">This is great, but how do we naturally work the makeup and skincare products into the video?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">We name the song "Beautiful Years." It's a perfect title—it speaks to embracing where you are in life, and it just happens to be the company name, how great is that?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sarah:</div>
            <div class="speech">That's genius! But let's talk about the <span class="collocation">visual story</span>.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">Okay, picture this: We open with nighttime scenes. We're each at our own homes, kissing our families goodnight. Real, tender moments. Then we see just a glimpse of the <span class="collocation">nighttime skincare routine</span>.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">Right, and we flash between both of our homes so viewers see we're both doing the same thing. It shows the routine is universal. Then—cut to morning. The alarm goes off.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sarah:</div>
            <div class="speech">I love where this is going. So morning routine next?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">Yes, with kids running around in the background, dogs needing attention, the beautiful <span class="vocab-a2">chaos</span> of family life.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">Then family breakfast, helping kids get ready, packing lunches.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sally:</div>
            <div class="speech">So we go from home life to what—the professional side?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">We show up at the stage. That's where we see more of the <span class="collocation">makeup application</span>—the eye shadows, the foundation, the <span class="collocation">contouring products</span>. Professional makeup artists working with the Just4you line backstage.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">And that leads into the <span class="collocation">power concert</span> moment! This is where the energy peaks. Both of us performing together, <span class="collocation">full stage production</span>, incredible lighting. It shows strength, confidence, vitality.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sarah:</div>
            <div class="speech">Oh, I can visualize this! So the concert is the <span class="vocab-a2">climax</span> of the video?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">Yes, but here's the beautiful part. When the concert finishes and we're taking our bows, the camera shows our families running to meet us backstage.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Jenny:</div>
            <div class="speech">Moms and grandmas hugging both of us. Multiple generations coming together.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sally:</div>
            <div class="speech">Wait, I'm getting emotional just thinking about this. How do we close it out?</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Kashira:</div>
            <div class="speech">The final scene—and this is my favorite part—the camera slowly <span class="idiom">pulls back</span>. Each generation is holding hands: the kids, us, our moms, our grandmas, all smiling and walking away from the <span class="collocation">concert arena</span> together.</div>
        </div>

        <div class="dialogue-line">
            <div class="speaker">Sarah:</div>
            <div class="speech">This is <span class="vocab-a2">phenomenal</span>. So we're blending the heartfelt family moments with the <span class="collocation">power concert performance</span>. It hits both <span class="collocation">emotional notes</span>.</div>
        </div>
    </div>
</div>


    <div class="student-info-container">
        <div class="input-group">
            <input type="text" id="studentName" value="Name" maxlength="25">
            <input type="text" id="studentID" value="ID" maxlength="25">
        </div>

        <button id="pdfButton" class="pdf-button" disabled="">Print/Save as PDF</button>

        <p class="note">Name and ID required for PDF print.</p>
    </div>

    <div class="save-container">
        <div class="file-input-group editMode" style="display: none;">
            <label for="fileName">File Name</label>
            <input type="text" id="fileName" class="editMode" value="Lesson07_Scenario7.html" style="display: none;">
        </div>

        <button id="saveButton" class="editMode" style="display: none;">Save as Local File</button>
    </div>

    <script>
        // Initialize save functionality on page load
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.getElementById('saveButton');
            const fileNameInput = document.getElementById('fileName');

            saveButton.addEventListener('click', function() {
                saveFiles();
            });

            function saveFiles() {
                // Get the filename without .html extension
                let fileName = fileNameInput.value.trim();
                if (fileName.endsWith('.html')) {
                    fileName = fileName.slice(0, -5);
                }

                // UPDATE TITLE TO MATCH FILENAME
                document.title = fileName;

                // FIRST SAVE: Current editable state
                const editableHTML = getFullHTML();
                downloadFile(editableHTML, fileName + 'EditMode.html');

                // Store current states
                const editableElements = document.querySelectorAll('[contenteditable="true"]');
                const editModeElements = document.querySelectorAll('.editMode');

                // DISABLE EDITING: Set contenteditable to false
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'false');
                });

                // HIDE EDIT MODE: Set editMode class to display:none
                editModeElements.forEach(el => {
                    el.style.display = 'none';
                });

                // SECOND SAVE: Clean public version
                const publicHTML = getFullHTML();
                downloadFile(publicHTML, fileName + '.html');

                // RESTORE EDITING: Set contenteditable back to true
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'true');
                });

                // RESTORE EDIT MODE: Set editMode class back to display:block
                editModeElements.forEach(el => {
                    el.style.display = 'block';
                });
            }

            function getFullHTML() {
                // Get the complete HTML including DOCTYPE
                const doctype = '<!DOCTYPE html>\n';
                const html = document.documentElement.outerHTML;
                return doctype + html;
            }

            function downloadFile(content, filename) {
                // Create blob from content
                const blob = new Blob([content], { type: 'text/html' });

                // Create download link
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;

                // Trigger download
                document.body.appendChild(a);
                a.click();

                // Cleanup
                document.body.removeChild(a);
                URL.revokeObjectURL(a.href);
            }
        });
    </script>

    <script>
        const nameInput = document.getElementById('studentName');
        const idInput = document.getElementById('studentID');
        const pdfButton = document.getElementById('pdfButton');

        const DEFAULTS = {
            name: 'Name',
            id: 'ID'
        };

        // Sanitize input to prevent injection
        function sanitizeInput(input) {
            const temp = document.createElement('div');
            temp.textContent = input;
            return temp.innerHTML;
        }

        // Validate input length and content
        function validateInput(input, fieldName) {
            const sanitized = sanitizeInput(input.trim());

            if (sanitized.length < 2) {
                alert(`${fieldName} must be at least 2 characters long.`);
                return false;
            }

            if (sanitized.length > 25) {
                alert(`${fieldName} must be no more than 25 characters long.`);
                return false;
            }

            return true;
        }

        // Check if both fields are valid and changed from defaults
        function checkEnablePDF() {
            const nameValue = nameInput.value.trim();
            const idValue = idInput.value.trim();

            // Check if changed from defaults
            const nameChanged = nameValue !== DEFAULTS.name;
            const idChanged = idValue !== DEFAULTS.id;

            // Check if valid
            const nameValid = nameValue.length >= 2 && nameValue.length <= 25;
            const idValid = idValue.length >= 2 && idValue.length <= 25;

            // Enable button only if both changed AND both valid
            pdfButton.disabled = !(nameChanged && idChanged && nameValid && idValid);
        }

        // Validate on blur (when user leaves field)
        nameInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.name && value.length > 0) {
                if (validateInput(value, 'Name')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.name;
                }
            }
            checkEnablePDF();
        });

        idInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.id && value.length > 0) {
                if (validateInput(value, 'ID')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.id;
                }
            }
            checkEnablePDF();
        });

        // Also check on input to provide immediate feedback for enabling button
        nameInput.addEventListener('input', checkEnablePDF);
        idInput.addEventListener('input', checkEnablePDF);

        // Clear default on focus
        nameInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.name) {
                this.value = '';
            }
        });

        idInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.id) {
                this.value = '';
            }
        });

        // PDF Print functionality
        pdfButton.addEventListener('click', function() {
            window.print();
        });
    </script>


</body></html>