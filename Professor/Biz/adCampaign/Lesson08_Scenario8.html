<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson08_Scenario8</title>
    <style>
        body {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        
        .student-info-container {
            padding: 10px;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 10px;
            font-size: 16px;
        }
        
        .pdf-button {
            padding: 10px 10px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .pdf-button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .note {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .save-container {
            padding: 10px;
        }
        
        .file-input-group {
            margin-bottom: 15px;
        }
        
        .file-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .file-input-group input {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            font-size: 16px;
        }
        
        /* Lesson Content Styles */
        .lessonContent {
            padding: 20px 10px;
        }
        
        .lessonContent[contenteditable="true"] {
            border: 2px dashed #4CAF50;
            background-color: #f9fff9;
            padding: 15px;
        }
        
        .lesson-header {
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .lesson-header h1 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #333;
        }
        
        .lesson-header .subtitle {
            color: #666;
            font-style: italic;
            font-size: 14px;
        }
        
        .scenario-overview {
            background-color: #f5f5f5;
            border-top: 4px solid #FF9800;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }
        
        .scenario-overview h2 {
            margin-top: 0;
            font-size: 18px;
            color: #2196F3;
        }
        
        .scenario-overview p {
            margin: 10px 0;
        }
        
        .participants {
            font-size: 14px;
            color: #555;
            margin-top: 10px;
        }
        
        .participants strong {
            color: #333;
        }
        
        .dialogue-section {
            margin-top: 30px;
        }
        
        .dialogue-section h2 {
            font-size: 18px;
            color: #333;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }
        
        .dialogue-line {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #2196F3;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.15);
        }
        
        .speaker {
            font-weight: bold;
            color: #1976D2;
            margin-bottom: 3px;
        }
        
        .speech {
            margin-left: 20px;
            text-align: justify;
        }
        
        /* Highlighting styles */
        .idiom {
            color: #D84315;
        }
        
        .vocab-a2 {
            color: #1565C0;
        }
        
        .collocation {
            color: #7B1FA2;
        }
    </style>
</head>
<body>
    <div class="lessonContent" contenteditable="false">
        <div class="lesson-header">
            <h1>Lesson 8: Ethical Standards Meeting with Charles</h1>
            <p class="subtitle">Scenario 8: Addressing Ethical Concerns in Detail</p>
        </div>
        
        <div class="scenario-overview">
            <h2>Scenario Overview</h2>
            <p>Charles, Jenny Rodrigez's representative, meets with Marketing Manager Sarah to address specific ethical concerns. The meeting covers child labor policies, factory locations and labor practices, environmental sustainability measures, alternative testing methods, and charitable partnerships. Sarah provides detailed responses about the company's strict policies against child labor, international labor standards compliance, environmental initiatives including energy efficiency and waste management, cruelty-free testing methods, and support for organizations focused on healthcare for women and children with limited resources.</p>
            
            <div class="participants">
                <strong>Participants:</strong> Charles (Jenny's Representative), Sarah (Marketing Manager)
            </div>
        </div>
        
        <div class="dialogue-section">
    <h2>Dialogue</h2>

    <div class="dialogue-line">
        <div class="speaker">Charles:</div>
        <div class="speech">Thank you for arranging this meeting, Sarah. As Jenny's <span class="vocab-a2">representative</span>, I have a few important questions regarding our concerns about <span class="collocation">child labor</span>, the environment, animal testing, and&nbsp;your company's involvement with charitable organizations. Firstly,&nbsp;how can we be <span class="vocab-a2">assured</span> that your company doesn't use children, including teenage students who work more than 18 hours a week, in your <span class="collocation">production process</span>?</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Sarah:</div>
        <div class="speech">Thank you, Charles, for raising these important concerns. I completely understand the <span class="vocab-a2">gravity</span> of the issue. To address your question, we have a <span class="collocation">strict policy</span> against child labor, including the employment of teenage students who work more than 18 hours a week. We <span class="vocab-a2">adhere</span> to international labor standards and <span class="vocab-a2">implement</span> <span class="vocab-a2">robust</span> measures to ensure our suppliers and factories <span class="vocab-a2">comply</span> with these standards. Regular <span class="vocab-a2">audits</span> and <span class="vocab-a2">inspections</span> are conducted to <span class="vocab-a2">verify</span> that our production processes are free from any form of child labor.</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Charles:</div>
        <div class="speech">That's <span class="vocab-a2">reassuring</span> to hear, Sarah. Now, could you please provide information about the countries where your factories are located?</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Sarah:</div>
        <div class="speech">Certainly, Charles. Our factories are located in countries that <span class="vocab-a2">prioritize</span> fair labor practices and comply with international labor standards. We have <span class="collocation">manufacturing facilities</span> in countries such as South Korea and Singapore. It's important to note that we choose our manufacturing partners carefully, considering their commitment to <span class="collocation">ethical practices</span>, <span class="collocation">fair wages</span>, and <span class="collocation">safe working conditions</span>.</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Charles:</div>
        <div class="speech">Thank you for sharing that, Sarah. <span class="idiom">Turning to</span> the environment, can you describe how your company keeps a low environmental footprint?</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Sarah:</div>
        <div class="speech">Absolutely, Charles. Environmental sustainability is a <span class="collocation">top priority</span> for our company. We have implemented several initiatives to minimize our&nbsp;environmental footprint. These include: 1. <span class="collocation">Energy efficient</span> manufacturing processes and facilities. 2. Recycling and waste management programs to reduce landfill waste. 3. Responsible sourcing of raw materials, prioritizing <span class="vocab-a2">sustainable</span> and <span class="vocab-a2">eco-friendly</span> options. 4. Implementation of water <span class="vocab-a2">conservation</span> practices. 5. <span class="collocation">Continuous improvement</span> initiatives to identify and adopt greener technologies and practices. We also regularly conduct environmental audits to assess our performance and identify areas for further improvement.</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Charles:</div>
        <div class="speech">That sounds <span class="vocab-a2">commendable</span>, Sarah. Now, regarding animal testing, if your company doesn't conduct such testing, how do you test your products to ensure their safety?</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Sarah:</div>
        <div class="speech">We firmly believe in cruelty-free practices and are proud to state that we do not engage in animal testing. Instead, we <span class="vocab-a2">utilize</span> alternative testing methods, such as in vitro testing and computer modeling, which have been approved and recognized by <span class="collocation">regulatory agencies</span>. These modern and scientifically advanced techniques allow us to ensure the safety and <span class="vocab-a2">efficacy</span> of our products without any harm to animals.</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Charles:</div>
        <div class="speech">Thank you for clarifying that, Sarah. Lastly, does your company support any charitable organizations, particularly those that focus on improving healthcare for women and children with <span class="collocation">limited resources</span>?</div>
    </div>

    <div class="dialogue-line">
        <div class="speaker">Sarah:</div>
        <div class="speech">Yes, Charles. Our company is committed to making a <span class="collocation">positive impact</span> through various <span class="collocation">charitable initiatives</span>. We actively support several organizations that focus on improving healthcare for women and children with limited resources. Some of the organizations we collaborate with include Women and Children First, NAFC, and MCOA. By supporting these initiatives, we aim to contribute to the well-being and&nbsp;<span class="vocab-a2">empowerment</span> of women and children in need.</div>
    </div>
</div>
    </div>

    <div class="student-info-container">
        <div class="input-group">
            <input type="text" id="studentName" value="Name" maxlength="25">
            <input type="text" id="studentID" value="ID" maxlength="25">
        </div>
        
        <button id="pdfButton" class="pdf-button" disabled="">Print/Save as PDF</button>
        
        <p class="note">Name and ID required for PDF print.</p>
    </div>
    
    <div class="save-container">
        <div class="file-input-group editMode" style="display: none;">
            <label for="fileName">File Name</label>
            <input type="text" id="fileName" class="editMode" value="Lesson08_Scenario8.html" style="display: none;">
        </div>
        
        <button id="saveButton" class="editMode" style="display: none;">Save as Local File</button>
    </div>

    <script>
        // Initialize save functionality on page load
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.getElementById('saveButton');
            const fileNameInput = document.getElementById('fileName');
            
            saveButton.addEventListener('click', function() {
                saveFiles();
            });
            
            function saveFiles() {
                // Get the filename without .html extension
                let fileName = fileNameInput.value.trim();
                if (fileName.endsWith('.html')) {
                    fileName = fileName.slice(0, -5);
                }
                
                // UPDATE TITLE TO MATCH FILENAME
                document.title = fileName;                
                
                // FIRST SAVE: Current editable state
                const editableHTML = getFullHTML();
                downloadFile(editableHTML, fileName + 'EditMode.html');
                
                // Store current states
                const editableElements = document.querySelectorAll('[contenteditable="true"]');
                const editModeElements = document.querySelectorAll('.editMode');
                
                // DISABLE EDITING: Set contenteditable to false
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'false');
                });
                
                // HIDE EDIT MODE: Set editMode class to display:none
                editModeElements.forEach(el => {
                    el.style.display = 'none';
                });
                
                // SECOND SAVE: Clean public version
                const publicHTML = getFullHTML();
                downloadFile(publicHTML, fileName + '.html');
                
                // RESTORE EDITING: Set contenteditable back to true
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'true');
                });
                
                // RESTORE EDIT MODE: Set editMode class back to display:block
                editModeElements.forEach(el => {
                    el.style.display = 'block';
                });
            }
            
            function getFullHTML() {
                // Get the complete HTML including DOCTYPE
                const doctype = '<!DOCTYPE html>\n';
                const html = document.documentElement.outerHTML;
                return doctype + html;
            }
            
            function downloadFile(content, filename) {
                // Create blob from content
                const blob = new Blob([content], { type: 'text/html' });
                
                // Create download link
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;
                
                // Trigger download
                document.body.appendChild(a);
                a.click();
                
                // Cleanup
                document.body.removeChild(a);
                URL.revokeObjectURL(a.href);
            }
        });
    </script>

    <script>
        const nameInput = document.getElementById('studentName');
        const idInput = document.getElementById('studentID');
        const pdfButton = document.getElementById('pdfButton');
        
        const DEFAULTS = {
            name: 'Name',
            id: 'ID'
        };
        
        // Sanitize input to prevent injection
        function sanitizeInput(input) {
            const temp = document.createElement('div');
            temp.textContent = input;
            return temp.innerHTML;
        }
        
        // Validate input length and content
        function validateInput(input, fieldName) {
            const sanitized = sanitizeInput(input.trim());
            
            if (sanitized.length < 2) {
                alert(`${fieldName} must be at least 2 characters long.`);
                return false;
            }
            
            if (sanitized.length > 25) {
                alert(`${fieldName} must be no more than 25 characters long.`);
                return false;
            }
            
            return true;
        }
        
        // Check if both fields are valid and changed from defaults
        function checkEnablePDF() {
            const nameValue = nameInput.value.trim();
            const idValue = idInput.value.trim();
            
            // Check if changed from defaults
            const nameChanged = nameValue !== DEFAULTS.name;
            const idChanged = idValue !== DEFAULTS.id;
            
            // Check if valid
            const nameValid = nameValue.length >= 2 && nameValue.length <= 25;
            const idValid = idValue.length >= 2 && idValue.length <= 25;
            
            // Enable button only if both changed AND both valid
            pdfButton.disabled = !(nameChanged && idChanged && nameValid && idValid);
        }
        
        // Validate on blur (when user leaves field)
        nameInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.name && value.length > 0) {
                if (validateInput(value, 'Name')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.name;
                }
            }
            checkEnablePDF();
        });
        
        idInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.id && value.length > 0) {
                if (validateInput(value, 'ID')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.id;
                }
            }
            checkEnablePDF();
        });
        
        // Also check on input to provide immediate feedback for enabling button
        nameInput.addEventListener('input', checkEnablePDF);
        idInput.addEventListener('input', checkEnablePDF);
        
        // Clear default on focus
        nameInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.name) {
                this.value = '';
            }
        });
        
        idInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.id) {
                this.value = '';
            }
        });
        
        // PDF Print functionality
        pdfButton.addEventListener('click', function() {
            window.print();
        });
    </script>



</body></html>
