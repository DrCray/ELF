<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson07B_Vocabulary</title>
    <style>
        body {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }

.lessonContent {
    counter-reset: collocationCount;
}

.vocab-entry {
    counter-increment: collocationCount;
}
.vocab-title::before {
    content: counter(collocationCount) ". ";
    font-weight: 600;
    margin-right: 0.25em;
}

footer {margin-top:8rem;}
        
        .student-info-container {
            padding: 10px;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 10px;
            font-size: 16px;
        }
        
        .pdf-button {
            padding: 10px 10px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .pdf-button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .note {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .save-container {
            padding: 10px;
        }
        
        .file-input-group {
            margin-bottom: 15px;
        }
        
        .file-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .file-input-group input {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            font-size: 16px;
        }
        
        /* Lesson Content Styles */
        .lessonContent {
            padding: 20px 10px;
        }
        
        .lessonContent[contenteditable="true"] {
            border: 2px dashed #4CAF50;
            background-color: #f9fff9;
            padding: 15px;
        }
        
        .lesson-header {
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .lesson-header h1 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #333;
        }
        
        .lesson-header .subtitle {
            color: #666;
            font-style: italic;
            font-size: 14px;
        }
        
        .intro {
            background-color: #f5f5f5;
            border-top: 4px solid #FF9800;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }
        
        .intro p {
            margin: 5px 0;
        }
        
        .vocab-entry {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .vocab-entry:last-child {
            border-bottom: none;
        }
        
        .vocab-title {
            font-size: 18px;
            font-weight: bold;
            color: #1565C0;
            margin-bottom: 8px;
        }
        
        .word-type {
            font-size: 14px;
            color: #666;
            font-style: italic;
            margin-left: 10px;
        }
        
        .definition {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .definition-label {
            font-weight: bold;
            color: #555;
        }
        
        .definition-text {
            color: #333;
        }
        
        .example {
            margin-left: 20px;
            font-style: italic;
            color: #444;
        }
        
        .example-label {
            font-weight: bold;
            color: #555;
            font-style: normal;
        }
        
        .vocab-highlight {
            color: #1565C0;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="lessonContent" contenteditable="false">
        <div class="lesson-header">
            <h1>Lesson 7B: Business Vocabulary</h1>
            <p class="subtitle">CEFR B1+ Vocabulary from Scenario 7</p>
        </div>
        
        <div class="intro">
            <p>This lesson covers advanced business vocabulary words (B1 level and above) used when discussing corporate social responsibility, ethical standards, and sustainability practices. Each word is defined and illustrated with an example sentence.</p>
        </div>
        
        
        <div class="vocab-entry">
            <div class="vocab-title">Utmost <span class="word-type">(adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Greatest; maximum; most extreme.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We treat customer data with the <span class="vocab-highlight">utmost</span> care and confidentiality.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Assure <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To tell someone confidently that something is true; to guarantee or promise.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> I can <span class="vocab-highlight">assure</span> you that the issue will be resolved by tomorrow.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Compliance <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">The act of following rules, regulations, or standards; conformity.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The legal department ensures <span class="vocab-highlight">compliance</span> with all industry regulations.
            </div>
        </div>
        
        
        <div class="vocab-entry">
            <div class="vocab-title">Eco-friendly <span class="word-type">(adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Not harmful to the environment; environmentally conscious.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We switched to <span class="vocab-highlight">eco-friendly</span> packaging materials last year.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Initiatives <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">New plans or actions intended to solve a problem or improve a situation.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The company launched several <span class="vocab-highlight">initiatives</span> to improve employee wellness.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Certifications <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Official documents or credentials that verify compliance with certain standards.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The facility holds ISO <span class="vocab-highlight">certifications</span> for quality management.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Validate <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To confirm or verify the accuracy or legitimacy of something.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Independent auditors will <span class="vocab-highlight">validate</span> our financial statements.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Alternative <span class="word-type">(adjective/noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Available as another option or choice; a different possibility.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We offer <span class="vocab-highlight">alternative</span> payment methods for customer convenience.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">In vitro <span class="word-type">(Latin phrase)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Testing or procedures performed outside a living organism, typically in a laboratory setting.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> <span class="vocab-highlight">In vitro</span> testing provides accurate results without animal testing.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Convey <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To communicate or express an idea, feeling, or information.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The presentation effectively <span class="vocab-highlight">conveyed</span> the benefits of the new system.
            </div>
        </div>
        
        
        <div class="vocab-entry">
            <div class="vocab-title">Endorse <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To publicly support or approve of something; to recommend.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Several industry experts <span class="vocab-highlight">endorse</span> our new methodology.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Collaborate <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To work together with others toward a common goal.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The two departments will <span class="vocab-highlight">collaborate</span> on the research project.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Reassure <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To comfort or remove doubts and fears; to restore confidence.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The manager met with staff to <span class="vocab-highlight">reassure</span> them about job security.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Acknowledge <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To recognize or accept the existence or truth of something.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We <span class="vocab-highlight">acknowledge</span> that improvements are needed in this area.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">Adjustments <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Small changes or modifications made to improve or correct something.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We made several <span class="vocab-highlight">adjustments</span> to the schedule based on feedback.
            </div>
        </div>
    </div>

    <div class="student-info-container">
        <div class="input-group">
            <input type="text" id="studentName" value="Name" maxlength="25">
            <input type="text" id="studentID" value="ID" maxlength="25">
        </div>
        
        <button id="pdfButton" class="pdf-button" disabled="">Print/Save as PDF</button>
        
        <p class="note">Name and ID required for PDF print.</p>
    </div>
    
    <div class="save-container">
        <div class="file-input-group editMode" style="display: none;">
            <label for="fileName">File Name</label>
            <input type="text" id="fileName" class="editMode" value="Lesson07B_Vocabulary.html" style="display: none;">
        </div>
        
        <button id="saveButton" class="editMode" style="display: none;">Save as Local File</button>
    </div>

    <script>
        // Initialize save functionality on page load
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.getElementById('saveButton');
            const fileNameInput = document.getElementById('fileName');
            
            saveButton.addEventListener('click', function() {
                saveFiles();
            });
            
            function saveFiles() {
                // Get the filename without .html extension
                let fileName = fileNameInput.value.trim();
                if (fileName.endsWith('.html')) {
                    fileName = fileName.slice(0, -5);
                }
                
                // UPDATE TITLE TO MATCH FILENAME
                document.title = fileName;                
                
                // FIRST SAVE: Current editable state
                const editableHTML = getFullHTML();
                downloadFile(editableHTML, fileName + 'EditMode.html');
                
                // Store current states
                const editableElements = document.querySelectorAll('[contenteditable="true"]');
                const editModeElements = document.querySelectorAll('.editMode');
                
                // DISABLE EDITING: Set contenteditable to false
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'false');
                });
                
                // HIDE EDIT MODE: Set editMode class to display:none
                editModeElements.forEach(el => {
                    el.style.display = 'none';
                });
                
                // SECOND SAVE: Clean public version
                const publicHTML = getFullHTML();
                downloadFile(publicHTML, fileName + '.html');
                
                // RESTORE EDITING: Set contenteditable back to true
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'true');
                });
                
                // RESTORE EDIT MODE: Set editMode class back to display:block
                editModeElements.forEach(el => {
                    el.style.display = 'block';
                });
            }
            
            function getFullHTML() {
                // Get the complete HTML including DOCTYPE
                const doctype = '<!DOCTYPE html>\n';
                const html = document.documentElement.outerHTML;
                return doctype + html;
            }
            
            function downloadFile(content, filename) {
                // Create blob from content
                const blob = new Blob([content], { type: 'text/html' });
                
                // Create download link
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;
                
                // Trigger download
                document.body.appendChild(a);
                a.click();
                
                // Cleanup
                document.body.removeChild(a);
                URL.revokeObjectURL(a.href);
            }
        });
    </script>

    <script>
        const nameInput = document.getElementById('studentName');
        const idInput = document.getElementById('studentID');
        const pdfButton = document.getElementById('pdfButton');
        
        const DEFAULTS = {
            name: 'Name',
            id: 'ID'
        };
        
        // Sanitize input to prevent injection
        function sanitizeInput(input) {
            const temp = document.createElement('div');
            temp.textContent = input;
            return temp.innerHTML;
        }
        
        // Validate input length and content
        function validateInput(input, fieldName) {
            const sanitized = sanitizeInput(input.trim());
            
            if (sanitized.length < 2) {
                alert(`${fieldName} must be at least 2 characters long.`);
                return false;
            }
            
            if (sanitized.length > 25) {
                alert(`${fieldName} must be no more than 25 characters long.`);
                return false;
            }
            
            return true;
        }
        
        // Check if both fields are valid and changed from defaults
        function checkEnablePDF() {
            const nameValue = nameInput.value.trim();
            const idValue = idInput.value.trim();
            
            // Check if changed from defaults
            const nameChanged = nameValue !== DEFAULTS.name;
            const idChanged = idValue !== DEFAULTS.id;
            
            // Check if valid
            const nameValid = nameValue.length >= 2 && nameValue.length <= 25;
            const idValid = idValue.length >= 2 && idValue.length <= 25;
            
            // Enable button only if both changed AND both valid
            pdfButton.disabled = !(nameChanged && idChanged && nameValid && idValid);
        }
        
        // Validate on blur (when user leaves field)
        nameInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.name && value.length > 0) {
                if (validateInput(value, 'Name')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.name;
                }
            }
            checkEnablePDF();
        });
        
        idInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.id && value.length > 0) {
                if (validateInput(value, 'ID')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.id;
                }
            }
            checkEnablePDF();
        });
        
        // Also check on input to provide immediate feedback for enabling button
        nameInput.addEventListener('input', checkEnablePDF);
        idInput.addEventListener('input', checkEnablePDF);
        
        // Clear default on focus
        nameInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.name) {
                this.value = '';
            }
        });
        
        idInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.id) {
                this.value = '';
            }
        });
        
        // PDF Print functionality
        pdfButton.addEventListener('click', function() {
            window.print();
        });
    </script>





<script>
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.vocab-entry').forEach(entry => {


    if (entry.querySelector('details')) return;

const title = entry.querySelector('.vocab-title');
    if (!title) return;

    const details = document.createElement('details');
    const summary = document.createElement('summary');
details.classList.add('study-item');
//details.open = true;


    summary.appendChild(title);
    details.appendChild(summary);

    Array.from(entry.children).forEach(child => {
      if (child !== title) {
        details.appendChild(child);
      }
    });

    entry.innerHTML = '';
    entry.appendChild(details);

    /* ---- STYLE FIXES (bulk, no file edits needed) ---- */

    title.style.display = 'inline';

    const definition = details.querySelector('.definition');
    if (definition) {
      definition.style.marginTop = '1rem';
    }
  });



//add Study Mode Toggle button and function
const intro = document.querySelector('.intro');
if (intro) {
  const button = document.createElement('button');
  button.textContent = 'Study Mode';
  button.style.marginBottom=".8rem";
  button.style.background="blue";
  button.style.color="white";
  button.style.fontWeight="bold";

  intro.insertAdjacentElement('afterend', button);

  button.addEventListener('click', () => {
    const detailsList = document.querySelectorAll('details.study-item');
    const openAll = button.textContent === 'Study Mode';

    detailsList.forEach(d => {
      d.open = openAll;
    });

    button.textContent = openAll ? 'Hide All' : 'Study Mode';
  });
}

});
</script>



</body></html>
