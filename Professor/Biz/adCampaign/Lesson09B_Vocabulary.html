<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson09B_Vocabulary</title>
    <style>
        body {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        
        .student-info-container {
            padding: 10px;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 10px;
            font-size: 16px;
        }
        
        .pdf-button {
            padding: 10px 10px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .pdf-button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .note {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .save-container {
            padding: 10px;
        }
        
        .file-input-group {
            margin-bottom: 15px;
        }
        
        .file-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .file-input-group input {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            font-size: 16px;
        }
        
        /* Lesson Content Styles */
        .lessonContent {
            padding: 20px 10px;
        }
        
        .lessonContent[contenteditable="true"] {
            border: 2px dashed #4CAF50;
            background-color: #f9fff9;
            padding: 15px;
        }
        
        .lesson-header {
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .lesson-header h1 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #333;
        }
        
        .lesson-header .subtitle {
            color: #666;
            font-style: italic;
            font-size: 14px;
        }
        
        .intro {
            background-color: #f5f5f5;
            border-top: 4px solid #FF9800;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }
        
        .intro p {
            margin: 5px 0;
        }
        
        .vocab-entry {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .vocab-entry:last-child {
            border-bottom: none;
        }
        
        .vocab-title {
            font-size: 18px;
            font-weight: bold;
            color: #1565C0;
            margin-bottom: 8px;
        }
        
        .word-type {
            font-size: 14px;
            color: #666;
            font-style: italic;
            margin-left: 10px;
        }
        
        .definition {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .definition-label {
            font-weight: bold;
            color: #555;
        }
        
        .definition-text {
            color: #333;
        }
        
        .example {
            margin-left: 20px;
            font-style: italic;
            color: #444;
        }
        
        .example-label {
            font-weight: bold;
            color: #555;
            font-style: normal;
        }
        
        .vocab-highlight {
            color: #1565C0;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="lessonContent" contenteditable="false">
        <div class="lesson-header">
            <h1>Lesson 9B: Business Vocabulary</h1>
            <p class="subtitle">CEFR B1+ Vocabulary from Scenario 9</p>
        </div>
        
        <div class="intro">
            <p>This lesson covers 18 advanced business vocabulary words (B1 level and above) used when discussing financial negotiations, endorsement agreements, and contract terms. Each word is defined and illustrated with an example sentence.</p>
        </div>
        
        <div class="vocab-entry">
        <div class="vocab-entry">
            <div class="vocab-title">1. Structure <span class="word-type">(verb/noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To organize or arrange something in a systematic way; the organization or arrangement of something.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We need to <span class="vocab-highlight">structure</span> the payment plan to benefit both parties.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">2. Summarizing <span class="word-type">(verb/gerund)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Giving a brief statement of the main points; condensing information.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Thank you for <span class="vocab-highlight">summarizing</span> the key issues so clearly.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">3. Enticing <span class="word-type">(adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Attractive and tempting; appealing.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The salary package was quite <span class="vocab-highlight">enticing</span> for experienced candidates.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">4. Perceived <span class="word-type">(verb/adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Understood or interpreted in a particular way; viewed or regarded.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The brand is <span class="vocab-highlight">perceived</span> as high-quality by consumers.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">5. Affiliated <span class="word-type">(adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Officially connected or associated with an organization.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> She is <span class="vocab-highlight">affiliated</span> with several professional associations.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">6. Integrity <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">The quality of being honest and having strong moral principles; ethical uprightness.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The company is known for its <span class="vocab-highlight">integrity</span> in business dealings.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">7. Compromise <span class="word-type">(verb/noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To accept standards that are lower than desirable; to weaken or damage something.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We won't <span class="vocab-highlight">compromise</span> on quality for the sake of cost.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">8. Credibility <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">The quality of being trusted and believed in; believability.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The expert's <span class="vocab-highlight">credibility</span> was established through years of research.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">9. Compensated <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Paid or rewarded for work, loss, or injury.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Employees are <span class="vocab-highlight">compensated</span> based on their performance and experience.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">10. Reasonable <span class="word-type">(adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Fair and sensible; based on good judgment.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The proposal seems <span class="vocab-highlight">reasonable</span> and acceptable to all parties.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">11. Outline <span class="word-type">(verb/noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To give the main features or general plan of something; a summary of main points.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Please <span class="vocab-highlight">outline</span> the key objectives for the next quarter.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">12. Specify <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To state or identify clearly and definitely; to be precise about.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The contract should <span class="vocab-highlight">specify</span> all terms and conditions clearly.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">13. Evaluate <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To assess or judge the value, quality, or importance of something.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We will <span class="vocab-highlight">evaluate</span> the project's success after six months.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">14. Flexibility <span class="word-type">(noun)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">The ability to adapt to different circumstances; willingness to change or compromise.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The agreement offers <span class="vocab-highlight">flexibility</span> in payment terms.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">15. Reevaluate <span class="word-type">(verb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">To assess or examine something again, especially if circumstances have changed.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We should <span class="vocab-highlight">reevaluate</span> our strategy based on recent market changes.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">16. Informed decisions <span class="word-type">(noun phrase)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Choices made with full knowledge of relevant facts and information.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Customers need accurate data to make <span class="vocab-highlight">informed decisions</span>.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">17. Complimentary <span class="word-type">(adjective)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">Free; provided at no cost as a courtesy or favor.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Hotel guests receive <span class="vocab-highlight">complimentary</span> breakfast each morning.
            </div>
        </div>
        
        <div class="vocab-entry">
            <div class="vocab-title">18. Genuinely <span class="word-type">(adverb)</span></div>
            <div class="definition">
                <span class="definition-label">Definition:</span> 
                <span class="definition-text">In a truthful and sincere way; authentically.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The CEO is <span class="vocab-highlight">genuinely</span> interested in employee feedback.
            </div>
        </div>
            </div>
        </div>

     <div class="student-info-container">
        <div class="input-group">
            <input type="text" id="studentName" value="Name" maxlength="25">
            <input type="text" id="studentID" value="ID" maxlength="25">
        </div>
        
        <button id="pdfButton" class="pdf-button" disabled="">Print/Save as PDF</button>
        
        <p class="note">Name and ID required for PDF print.</p>
    </div>
    
    <div class="save-container">
        <div class="file-input-group editMode" style="display: none;">
            <label for="fileName">File Name</label>
            <input type="text" id="fileName" class="editMode" value="Lesson09B_Vocabulary.html" style="display: none;">
        </div>
        
        <button id="saveButton" class="editMode" style="display: none;">Save as Local File</button>
    </div>

    <script>
        // Initialize save functionality on page load
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.getElementById('saveButton');
            const fileNameInput = document.getElementById('fileName');
            
            saveButton.addEventListener('click', function() {
                saveFiles();
            });
            
            function saveFiles() {
                // Get the filename without .html extension
                let fileName = fileNameInput.value.trim();
                if (fileName.endsWith('.html')) {
                    fileName = fileName.slice(0, -5);
                }
                
                // UPDATE TITLE TO MATCH FILENAME
                document.title = fileName;                
                
                // FIRST SAVE: Current editable state
                const editableHTML = getFullHTML();
                downloadFile(editableHTML, fileName + 'EditMode.html');
                
                // Store current states
                const editableElements = document.querySelectorAll('[contenteditable="true"]');
                const editModeElements = document.querySelectorAll('.editMode');
                
                // DISABLE EDITING: Set contenteditable to false
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'false');
                });
                
                // HIDE EDIT MODE: Set editMode class to display:none
                editModeElements.forEach(el => {
                    el.style.display = 'none';
                });
                
                // SECOND SAVE: Clean public version
                const publicHTML = getFullHTML();
                downloadFile(publicHTML, fileName + '.html');
                
                // RESTORE EDITING: Set contenteditable back to true
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'true');
                });
                
                // RESTORE EDIT MODE: Set editMode class back to display:block
                editModeElements.forEach(el => {
                    el.style.display = 'block';
                });
            }
            
            function getFullHTML() {
                // Get the complete HTML including DOCTYPE
                const doctype = '<!DOCTYPE html>\n';
                const html = document.documentElement.outerHTML;
                return doctype + html;
            }
            
            function downloadFile(content, filename) {
                // Create blob from content
                const blob = new Blob([content], { type: 'text/html' });
                
                // Create download link
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;
                
                // Trigger download
                document.body.appendChild(a);
                a.click();
                
                // Cleanup
                document.body.removeChild(a);
                URL.revokeObjectURL(a.href);
            }
        });
    </script>

    <script>
        const nameInput = document.getElementById('studentName');
        const idInput = document.getElementById('studentID');
        const pdfButton = document.getElementById('pdfButton');
        
        const DEFAULTS = {
            name: 'Name',
            id: 'ID'
        };
        
        // Sanitize input to prevent injection
        function sanitizeInput(input) {
            const temp = document.createElement('div');
            temp.textContent = input;
            return temp.innerHTML;
        }
        
        // Validate input length and content
        function validateInput(input, fieldName) {
            const sanitized = sanitizeInput(input.trim());
            
            if (sanitized.length < 2) {
                alert(`${fieldName} must be at least 2 characters long.`);
                return false;
            }
            
            if (sanitized.length > 25) {
                alert(`${fieldName} must be no more than 25 characters long.`);
                return false;
            }
            
            return true;
        }
        
        // Check if both fields are valid and changed from defaults
        function checkEnablePDF() {
            const nameValue = nameInput.value.trim();
            const idValue = idInput.value.trim();
            
            // Check if changed from defaults
            const nameChanged = nameValue !== DEFAULTS.name;
            const idChanged = idValue !== DEFAULTS.id;
            
            // Check if valid
            const nameValid = nameValue.length >= 2 && nameValue.length <= 25;
            const idValid = idValue.length >= 2 && idValue.length <= 25;
            
            // Enable button only if both changed AND both valid
            pdfButton.disabled = !(nameChanged && idChanged && nameValid && idValid);
        }
        
        // Validate on blur (when user leaves field)
        nameInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.name && value.length > 0) {
                if (validateInput(value, 'Name')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.name;
                }
            }
            checkEnablePDF();
        });
        
        idInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.id && value.length > 0) {
                if (validateInput(value, 'ID')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.id;
                }
            }
            checkEnablePDF();
        });
        
        // Also check on input to provide immediate feedback for enabling button
        nameInput.addEventListener('input', checkEnablePDF);
        idInput.addEventListener('input', checkEnablePDF);
        
        // Clear default on focus
        nameInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.name) {
                this.value = '';
            }
        });
        
        idInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.id) {
                this.value = '';
            }
        });
        
        // PDF Print functionality
        pdfButton.addEventListener('click', function() {
            window.print();
        });
    </script>


</body></html>