<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson13idiomsCollocations</title>
    <style>
        body {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        
        .student-info-container {
            padding: 10px;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 10px;
            font-size: 16px;
        }
        
        .pdf-button {
            padding: 10px 10px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .pdf-button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .note {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .save-container {
            padding: 10px;
        }
        
        .file-input-group {
            margin-bottom: 15px;
        }
        
        .file-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .file-input-group input {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            font-size: 16px;
        }
        
        /* Lesson Content Styles */
        .lessonContent {
            padding: 20px 10px;
        }
        
        .lessonContent[contenteditable="true"] {
            border: 2px dashed #4CAF50;
            background-color: #f9fff9;
            padding: 15px;
        }
        
        .lesson-header {
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .lesson-header h1 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #333;
        }
        
        .lesson-header .subtitle {
            color: #666;
            font-style: italic;
            font-size: 14px;
        }
        
        .intro {
            background-color: #f5f5f5;
            border-top: 4px solid #FF9800;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }
        
        .intro p {
            margin: 5px 0;
        }
        
        .idiomsAll {
            margin-bottom: 30px;
        }
        
        .collocationsAll {
            margin-bottom: 30px;
        }
        
        .idiomsAll h2,
        .collocationsAll h2 {
            font-size: 20px;
            color: #7D5656;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #D84315;
        }
        
        .idiom-entry {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .idiom-entry:last-child {
            border-bottom: none;
        }
        
        .collocation-entry {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .collocation-entry:last-child {
            border-bottom: none;
        }
        
        .idiom-title {
            font-size: 18px;
            font-weight: bold;
            color: #D84315;
            margin-bottom: 8px;
        }
        
        .collocation-title {
            font-size: 18px;
            font-weight: bold;
            color: #7B1FA2;
            margin-bottom: 8px;
        }
        
        .definition {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .definition-label {
            font-weight: bold;
            color: #555;
        }
        
        .definition-text {
            color: #333;
        }
        
        .example {
            margin-left: 20px;
            font-style: italic;
            color: #444;
        }
        
        .example-label {
            font-weight: bold;
            color: #555;
            font-style: normal;
        }
        
        .idiom-highlight {
            color: #D84315;
            font-weight: 500;
        }

        .collocation-highlight{
            color: #7B1FA2;
            font-weight: 500;
        }


.idiomsAll {
    counter-reset: idiomsCount;
}

.idiom-entry {
    counter-increment: idiomsCount;
}
.idiom-title::before {
    content: counter(idiomsCount) ". ";
    font-weight: 600;
    margin-right: 0.25em;
}

.collocationsAll {
    counter-reset: collocationCount;
}

.collocation-entry {
    counter-increment: collocationCount;
}
.collocation-title::before {
    content: counter(collocationCount) ". ";
    font-weight: 600;
    margin-right: 0.25em;
}
    </style>
</head>
<body>


 <div class="lessonContent" contenteditable="false">
    <div class="lesson-header">
        <h1>Lesson 13A: Idioms and Collocations</h1>
        <p class="subtitle">Common Business Idioms and Collocations from Scenario 13</p>
    </div>

    <div class="intro">
        <p>This lesson covers common idioms and important collocations used in business contexts. Collocations are words that commonly go together in natural English. Each expression is defined and illustrated with an example sentence.</p>
    </div>

    <div class="idiomsAll">
        <h2>Idioms</h2>

        <div class="idiom-entry">
            <div class="idiom-title">Pretty well off</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">Having a comfortable amount of money; financially secure or wealthy.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> After years of successful investments, they're <span class="idiom-highlight">pretty well off</span> and can afford to retire early.
            </div>
        </div>

        <div class="idiom-entry">
            <div class="idiom-title">Taken lead</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">To assume control or responsibility for something; to take charge of a project or initiative.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Our manager has <span class="idiom-highlight">taken lead</span> on the new client acquisition strategy.
            </div>
        </div>


        <div class="idiom-entry">
            <div class="idiom-title">Bring out the best in</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">To help someone show or develop their finest qualities or abilities; to inspire excellence.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> A good leader knows how to <span class="idiom-highlight">bring out the best in</span> their team members.
            </div>
        </div>
    </div>

    <div class="collocationsAll">
        <h2>Collocations</h2>



        <div class="collocation-entry">
            <div class="collocation-title">Combined star power</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">The total celebrity influence and public appeal created when multiple famous people work together.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The <span class="collocation-highlight">combined star power</span> of the two actors made the film a box office success.
            </div>
        </div>

        <div class="collocation-entry">
            <div class="collocation-title">Shared admiration</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">Mutual respect and appreciation that two or more people have for something or someone.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Their <span class="collocation-highlight">shared admiration</span> for innovation brought the two companies together.
            </div>
        </div>

        <div class="collocation-entry">
            <div class="collocation-title">Significant impact</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">A considerable or meaningful effect on something or someone.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The new policy had a <span class="collocation-highlight">significant impact</span> on employee productivity.
            </div>
        </div>


        <div class="collocation-entry">
            <div class="collocation-title">Positive working relationship</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">A constructive and harmonious professional connection between people who work together.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Building a <span class="collocation-highlight">positive working relationship</span> with clients is essential for long-term success.
            </div>
        </div>


        <div class="collocation-entry">
            <div class="collocation-title">Busy performance schedules</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">Packed timetables filled with shows, concerts, or other public appearances.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> Despite their <span class="collocation-highlight">busy performance schedules</span>, both artists made time for the charity event.
            </div>
        </div>

        <div class="collocation-entry">
            <div class="collocation-title">Joint appearances</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">Public events or occasions where two or more people appear together.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The CEOs made several <span class="collocation-highlight">joint appearances</span> to announce the merger.
            </div>
        </div>

        <div class="collocation-entry">
            <div class="collocation-title">Workable schedule</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">A timetable or plan that is practical and can be successfully implemented.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> We need to find a <span class="collocation-highlight">workable schedule</span> that suits all team members.
            </div>
        </div>


        <div class="collocation-entry">
            <div class="collocation-title">Fair compensation structure</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">An equitable and reasonable system for paying people for their work or services.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The company implemented a <span class="collocation-highlight">fair compensation structure</span> based on performance metrics.
            </div>
        </div>

        <div class="collocation-entry">
            <div class="collocation-title">Final approval</div>
            <div class="definition">
                <span class="definition-label">Definition:</span>
                <span class="definition-text">The ultimate authorization or consent needed before something can proceed.</span>
            </div>
            <div class="example">
                <span class="example-label">Example:</span> The project is ready to launch pending <span class="collocation-highlight">final approval</span> from the board of directors.
            </div>
        </div>
    </div>
</div>




    <div class="student-info-container">
        <div class="input-group">
            <input type="text" id="studentName" value="Name" maxlength="25">
            <input type="text" id="studentID" value="ID" maxlength="25">
        </div>
        
        <button id="pdfButton" class="pdf-button" disabled="">Print/Save as PDF</button>
        
        <p class="note">Name and ID required for PDF print.</p>
    </div>
    
    <div class="save-container">
        <div class="file-input-group editMode" style="display: none;">
            <label for="fileName">File Name</label>
            <input type="text" id="fileName" class="editMode" value="Lesson06A_IdiomsCollocations.html" style="display: none;">
        </div>
        
        <button id="saveButton" class="editMode" style="display: none;">Save as Local File</button>
    </div>

    <script>
        // Initialize save functionality on page load
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.getElementById('saveButton');
            const fileNameInput = document.getElementById('fileName');
            
            saveButton.addEventListener('click', function() {
                saveFiles();
            });
            
            function saveFiles() {
                // Get the filename without .html extension
                let fileName = fileNameInput.value.trim();
                if (fileName.endsWith('.html')) {
                    fileName = fileName.slice(0, -5);
                }
                
                // UPDATE TITLE TO MATCH FILENAME
                document.title = fileName;                
                
                // FIRST SAVE: Current editable state
                const editableHTML = getFullHTML();
                downloadFile(editableHTML, fileName + 'EditMode.html');
                
                // Store current states
                const editableElements = document.querySelectorAll('[contenteditable="true"]');
                const editModeElements = document.querySelectorAll('.editMode');
                
                // DISABLE EDITING: Set contenteditable to false
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'false');
                });
                
                // HIDE EDIT MODE: Set editMode class to display:none
                editModeElements.forEach(el => {
                    el.style.display = 'none';
                });
                
                // SECOND SAVE: Clean public version
                const publicHTML = getFullHTML();
                downloadFile(publicHTML, fileName + '.html');
                
                // RESTORE EDITING: Set contenteditable back to true
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'true');
                });
                
                // RESTORE EDIT MODE: Set editMode class back to display:block
                editModeElements.forEach(el => {
                    el.style.display = 'block';
                });
            }
            
            function getFullHTML() {
                // Get the complete HTML including DOCTYPE
                const doctype = '<!DOCTYPE html>\n';
                const html = document.documentElement.outerHTML;
                return doctype + html;
            }
            
            function downloadFile(content, filename) {
                // Create blob from content
                const blob = new Blob([content], { type: 'text/html' });
                
                // Create download link
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;
                
                // Trigger download
                document.body.appendChild(a);
                a.click();
                
                // Cleanup
                document.body.removeChild(a);
                URL.revokeObjectURL(a.href);
            }
        });
    </script>

    <script>
        const nameInput = document.getElementById('studentName');
        const idInput = document.getElementById('studentID');
        const pdfButton = document.getElementById('pdfButton');
        
        const DEFAULTS = {
            name: 'Name',
            id: 'ID'
        };
        
        // Sanitize input to prevent injection
        function sanitizeInput(input) {
            const temp = document.createElement('div');
            temp.textContent = input;
            return temp.innerHTML;
        }
        
        // Validate input length and content
        function validateInput(input, fieldName) {
            const sanitized = sanitizeInput(input.trim());
            
            if (sanitized.length < 2) {
                alert(`${fieldName} must be at least 2 characters long.`);
                return false;
            }
            
            if (sanitized.length > 25) {
                alert(`${fieldName} must be no more than 25 characters long.`);
                return false;
            }
            
            return true;
        }
        
        // Check if both fields are valid and changed from defaults
        function checkEnablePDF() {
            const nameValue = nameInput.value.trim();
            const idValue = idInput.value.trim();
            
            // Check if changed from defaults
            const nameChanged = nameValue !== DEFAULTS.name;
            const idChanged = idValue !== DEFAULTS.id;
            
            // Check if valid
            const nameValid = nameValue.length >= 2 && nameValue.length <= 25;
            const idValid = idValue.length >= 2 && idValue.length <= 25;
            
            // Enable button only if both changed AND both valid
            pdfButton.disabled = !(nameChanged && idChanged && nameValid && idValid);
        }
        
        // Validate on blur (when user leaves field)
        nameInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.name && value.length > 0) {
                if (validateInput(value, 'Name')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.name;
                }
            }
            checkEnablePDF();
        });
        
        idInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.id && value.length > 0) {
                if (validateInput(value, 'ID')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.id;
                }
            }
            checkEnablePDF();
        });
        
        // Also check on input to provide immediate feedback for enabling button
        nameInput.addEventListener('input', checkEnablePDF);
        idInput.addEventListener('input', checkEnablePDF);
        
        // Clear default on focus
        nameInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.name) {
                this.value = '';
            }
        });
        
        idInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.id) {
                this.value = '';
            }
        });
        
        // PDF Print functionality
        pdfButton.addEventListener('click', function() {
            window.print();
        });
    </script>



<style>
        footer {margin-top:8rem;}
</style>
        <footer>...</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.idiom-entry, .collocation-entry').forEach(entry => {


    if (entry.querySelector('details')) return;

const title = entry.querySelector('.idiom-title, .collocation-title');
    if (!title) return;

    const details = document.createElement('details');
    const summary = document.createElement('summary');
details.classList.add('study-item');
//details.open = true;


    summary.appendChild(title);
    details.appendChild(summary);

    Array.from(entry.children).forEach(child => {
      if (child !== title) {
        details.appendChild(child);
      }
    });

    entry.innerHTML = '';
    entry.appendChild(details);

    /* ---- STYLE FIXES (bulk, no file edits needed) ---- */

    title.style.display = 'inline';

    const definition = details.querySelector('.definition');
    if (definition) {
      definition.style.marginTop = '1rem';
    }
  });



//add Study Mode Toggle button and function
const intro = document.querySelector('.intro');
if (intro) {
  const button = document.createElement('button');
  button.textContent = 'Study Mode';
  button.style.marginBottom=".8rem";
  button.style.background="blue";
  button.style.color="white";
  button.style.fontWeight="bold";

  intro.insertAdjacentElement('afterend', button);

  button.addEventListener('click', () => {
    const detailsList = document.querySelectorAll('details.study-item');
    const openAll = button.textContent === 'Study Mode';

    detailsList.forEach(d => {
      d.open = openAll;
    });

    button.textContent = openAll ? 'Hide All' : 'Study Mode';
  });
}




});
</script>


</body></html>
