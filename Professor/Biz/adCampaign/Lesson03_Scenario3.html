<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson03_Scenario3</title>
    <style>
        body {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        
        .student-info-container {
            padding: 10px;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-group input {
            flex: 1;
            min-width: 150px;
            padding: 10px;
            font-size: 16px;
        }
        
        .pdf-button {
            padding: 10px 10px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .pdf-button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .note {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .save-container {
            padding: 10px;
        }
        
        .file-input-group {
            margin-bottom: 15px;
        }
        
        .file-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .file-input-group input {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            font-size: 16px;
        }
        
        /* Lesson Content Styles */
        .lessonContent {
            padding: 20px 10px;
        }
        
        .lessonContent[contenteditable="true"] {
            border: 2px dashed #4CAF50;
            background-color: #f9fff9;
            padding: 15px;
        }
        
        .lesson-header {
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .lesson-header h1 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #333;
        }
        
        .lesson-header .subtitle {
            color: #666;
            font-style: italic;
            font-size: 14px;
        }
        
        .scenario-overview {
            background-color: #f5f5f5;
            border-top: 4px solid #FF9800;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }
        
        .scenario-overview h2 {
            margin-top: 0;
            font-size: 18px;
            color: #2196F3;
        }
        
        .scenario-overview p {
            margin: 10px 0;
        }
        
        .participants {
            font-size: 14px;
            color: #555;
            margin-top: 10px;
        }
        
        .participants strong {
            color: #333;
        }
        
        .dialogue-section {
            margin-top: 30px;
        }
        
        .dialogue-section h2 {
            font-size: 18px;
            color: #333;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }
        
        .dialogue-line {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #2196F3;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.15);
        }
        
        .speaker {
            font-weight: bold;
            color: #1976D2;
            margin-bottom: 3px;
        }
        
        .speech {
            margin-left: 20px;
            text-align: justify;
        }
        
        /* Highlighting styles */
        .idiom {
            color: #D84315;
        }
        
        .vocab-a2 {
            color: #1565C0;
        }
        

    </style>
</head>
<body>
    <div class="lessonContent" contenteditable="false">
        <div class="lesson-header">
            <h1>Lesson 3: Planning a Fashion Show</h1>
            <p class="subtitle">Scenario 3: Mall Promotion Event Strategy</p>
        </div>
        

        
        <div class="scenario-overview">
            <h2>Scenario Overview</h2>
            <p>The marketing team at Beautiful Years explores the possibility of organizing a fashion show at a mall to promote their cosmetics line. They discuss logistics including mall management approval, event oversight, model sourcing, partnership opportunities with local boutiques, and promotional strategies. The team emphasizes inclusivity in model selection, social media engagement, collaborations with beauty professionals, and creating interactive experiences for mall visitors to maximize the event's impact.</p>
            
            <div class="participants">
                <strong>Participants:</strong> Mark Stratem (Product Leader), Leila Simpson (Packaging Designer), Bert Thomas (R&amp;D), Tina Tarter (Product Distribution)
            </div>
        </div>
        
        <div class="dialogue-section">
            <h2>Dialogue</h2>
            
            <div class="dialogue-line">
                <div class="speaker">Mark:</div>
                <div class="speech">Hello, team! Today, let's <span class="vocab-a2">brainstorm</span> ideas for a fashion show as part of a mall <span class="vocab-a2">promotion</span>. Do you think it's possible to <span class="vocab-a2">organize</span> such an event in the mall?</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Leila:</div>
                <div class="speech">Absolutely! Fashion shows are a popular <span class="vocab-a2">attraction</span> in malls and can draw a large crowd. With the right planning and <span class="vocab-a2">coordination</span>, we can definitely make it happen.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Bert:</div>
                <div class="speech">Agreed. We should <span class="vocab-a2">approach</span> the mall management and <span class="vocab-a2">propose</span> our idea. They might be open to hosting a fashion show as it can bring more <span class="vocab-a2">foot traffic</span> and <span class="vocab-a2">enhance</span> the overall shopping experience.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Tina:</div>
                <div class="speech">That sounds promising. Once we <span class="idiom">get the green light</span>, we need to decide who will <span class="vocab-a2">oversee</span> the show. I suggest our marketing department takes the lead, working in <span class="vocab-a2">collaboration</span> with fashion <span class="vocab-a2">industry</span> experts and event management professionals.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Mark:</div>
                <div class="speech">Great suggestion. We should also consider <span class="vocab-a2">partnering</span> with local fashion <span class="vocab-a2">boutiques</span> and clothing brands to <span class="vocab-a2">showcase</span> their latest <span class="vocab-a2">collections</span> during the fashion show. This way, we can create a <span class="idiom">win-win situation</span> by promoting both the mall and the <span class="vocab-a2">participating</span> brands.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Leila:</div>
                <div class="speech">Excellent idea. To ensure a <span class="vocab-a2">diverse</span> range of models, we can <span class="idiom">reach out</span> to local modeling agencies or organize open <span class="vocab-a2">casting calls</span> to discover fresh faces from the community. This will give <span class="vocab-a2">aspiring</span> models an opportunity to gain <span class="vocab-a2">exposure</span> while adding <span class="vocab-a2">variety</span> to our fashion show <span class="vocab-a2">lineup</span>.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Bert:</div>
                <div class="speech">Additionally, we should <span class="idiom">keep in mind</span> the importance of <span class="vocab-a2">inclusivity</span>. Let's make sure our models represent a wide range of body types, ages, and <span class="vocab-a2">ethnicities</span>. This will <span class="vocab-a2">resonate</span> with the <span class="vocab-a2">diverse</span> audience visiting the mall and promote a positive body image message.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Tina:</div>
                <div class="speech">Absolutely. To maximize the impact of the fashion show, we can <span class="vocab-a2">leverage</span> social media and online platforms to create <span class="vocab-a2">buzz</span> and generate interest. This way, even those who cannot attend the event in person can still get a <span class="vocab-a2">glimpse</span> of the showcased fashion and feel connected to the promotion.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Mark:</div>
                <div class="speech">Furthermore, we should explore <span class="vocab-a2">collaborations</span> with local beauty salons, hairstylists, and makeup artists. They can provide their <span class="vocab-a2">expertise</span> to create stunning looks for the models, <span class="vocab-a2">elevating</span> the overall experience of the fashion show.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Leila:</div>
                <div class="speech">That's a brilliant idea. In addition, we can organize <span class="vocab-a2">interactive</span> activities for the audience, such as style <span class="vocab-a2">consultations</span> or mini-makeovers, to <span class="vocab-a2">engage</span> them further and encourage their <span class="vocab-a2">involvement</span> with the participating brands.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Bert:</div>
                <div class="speech">Lastly, let's ensure that the fashion show is well-<span class="vocab-a2">publicized</span> through various channels, such as mall newsletters, local media <span class="vocab-a2">outlets</span>, and digital <span class="vocab-a2">advertisements</span>. We want to create a sense of <span class="vocab-a2">anticipation</span> and make sure the event reaches a wide audience.</div>
            </div>
            
            <div class="dialogue-line">
                <div class="speaker">Tina:</div>
                <div class="speech">Absolutely. By <span class="vocab-a2">orchestrating</span> a well-planned and exciting fashion show, we can boost brand <span class="vocab-a2">awareness</span> for the mall, drive foot traffic, and create a <span class="vocab-a2">memorable</span> experience for our customers.</div>
            </div>
        </div>
    </div>

    <div class="student-info-container">
        <div class="input-group">
            <input type="text" id="studentName" value="Name" maxlength="25">
            <input type="text" id="studentID" value="ID" maxlength="25">
        </div>
        
        <button id="pdfButton" class="pdf-button" disabled="">Print/Save as PDF</button>
        
        <p class="note">Name and ID required for PDF print.</p>
    </div>
    
    <div class="save-container">
        <div class="file-input-group editMode" style="display: none;">
            <label for="fileName">File Name</label>
            <input type="text" id="fileName" class="editMode" value="Lesson03_Scenario3.html" style="display: none;">
        </div>
        
        <button id="saveButton" class="editMode" style="display: none;">Save as Local File</button>
    </div>

    <script>
        // Initialize save functionality on page load
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.getElementById('saveButton');
            const fileNameInput = document.getElementById('fileName');
            
            saveButton.addEventListener('click', function() {
                saveFiles();
            });
            
            function saveFiles() {
                // Get the filename without .html extension
                let fileName = fileNameInput.value.trim();
                if (fileName.endsWith('.html')) {
                    fileName = fileName.slice(0, -5);
                }
                
                // UPDATE TITLE TO MATCH FILENAME
                document.title = fileName;                
                
                // FIRST SAVE: Current editable state
                const editableHTML = getFullHTML();
                downloadFile(editableHTML, fileName + 'EditMode.html');
                
                // Store current states
                const editableElements = document.querySelectorAll('[contenteditable="true"]');
                const editModeElements = document.querySelectorAll('.editMode');
                
                // DISABLE EDITING: Set contenteditable to false
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'false');
                });
                
                // HIDE EDIT MODE: Set editMode class to display:none
                editModeElements.forEach(el => {
                    el.style.display = 'none';
                });
                
                // SECOND SAVE: Clean public version
                const publicHTML = getFullHTML();
                downloadFile(publicHTML, fileName + '.html');
                
                // RESTORE EDITING: Set contenteditable back to true
                editableElements.forEach(el => {
                    el.setAttribute('contenteditable', 'true');
                });
                
                // RESTORE EDIT MODE: Set editMode class back to display:block
                editModeElements.forEach(el => {
                    el.style.display = 'block';
                });
            }
            
            function getFullHTML() {
                // Get the complete HTML including DOCTYPE
                const doctype = '<!DOCTYPE html>\n';
                const html = document.documentElement.outerHTML;
                return doctype + html;
            }
            
            function downloadFile(content, filename) {
                // Create blob from content
                const blob = new Blob([content], { type: 'text/html' });
                
                // Create download link
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = filename;
                
                // Trigger download
                document.body.appendChild(a);
                a.click();
                
                // Cleanup
                document.body.removeChild(a);
                URL.revokeObjectURL(a.href);
            }
        });
    </script>

    <script>
        const nameInput = document.getElementById('studentName');
        const idInput = document.getElementById('studentID');
        const pdfButton = document.getElementById('pdfButton');
        
        const DEFAULTS = {
            name: 'Name',
            id: 'ID'
        };
        
        // Sanitize input to prevent injection
        function sanitizeInput(input) {
            const temp = document.createElement('div');
            temp.textContent = input;
            return temp.innerHTML;
        }
        
        // Validate input length and content
        function validateInput(input, fieldName) {
            const sanitized = sanitizeInput(input.trim());
            
            if (sanitized.length < 2) {
                alert(`${fieldName} must be at least 2 characters long.`);
                return false;
            }
            
            if (sanitized.length > 25) {
                alert(`${fieldName} must be no more than 25 characters long.`);
                return false;
            }
            
            return true;
        }
        
        // Check if both fields are valid and changed from defaults
        function checkEnablePDF() {
            const nameValue = nameInput.value.trim();
            const idValue = idInput.value.trim();
            
            // Check if changed from defaults
            const nameChanged = nameValue !== DEFAULTS.name;
            const idChanged = idValue !== DEFAULTS.id;
            
            // Check if valid
            const nameValid = nameValue.length >= 2 && nameValue.length <= 25;
            const idValid = idValue.length >= 2 && idValue.length <= 25;
            
            // Enable button only if both changed AND both valid
            pdfButton.disabled = !(nameChanged && idChanged && nameValid && idValid);
        }
        
        // Validate on blur (when user leaves field)
        nameInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.name && value.length > 0) {
                if (validateInput(value, 'Name')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.name;
                }
            }
            checkEnablePDF();
        });
        
        idInput.addEventListener('blur', function() {
            const value = this.value.trim();
            if (value !== DEFAULTS.id && value.length > 0) {
                if (validateInput(value, 'ID')) {
                    this.value = sanitizeInput(value);
                } else {
                    this.value = DEFAULTS.id;
                }
            }
            checkEnablePDF();
        });
        
        // Also check on input to provide immediate feedback for enabling button
        nameInput.addEventListener('input', checkEnablePDF);
        idInput.addEventListener('input', checkEnablePDF);
        
        // Clear default on focus
        nameInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.name) {
                this.value = '';
            }
        });
        
        idInput.addEventListener('focus', function() {
            if (this.value === DEFAULTS.id) {
                this.value = '';
            }
        });
        
        // PDF Print functionality
        pdfButton.addEventListener('click', function() {
            window.print();
        });
    </script>


</body></html>