<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cloze Exercise: A Toothache and a String of Unfortunate Events</title>
<style>
body {
    font-family: Arial, Helvetica, sans-serif;
    line-height: 1.7;
    max-width: 820px;
    margin: 30px auto;
    padding: 0 20px;
    color: #2c2c2c;
    background: #f9f9fb;
}

h1 {
    color: #4a2d7a;
    text-align: center;
    font-size: 1.35em;
    line-height: 1.3;
    margin-bottom: 6px;
}

h2 {
    color: #5b3a8c;
    border-bottom: 2px solid #d8cfe8;
    padding-bottom: 8px;
    font-size: 1.15em;
}

.section {
    margin-bottom: 35px;
    background: #fff;
    border-radius: 10px;
    padding: 18px 20px;
    box-shadow: 0 2px 8px rgba(90, 58, 140, 0.08);
}

p {
    margin: 14px 0;
}

strong {
    color: #6a3baa;
}

select {
    padding: 5px 8px;
    font-size: 1em;
    border: 1px solid #b8a9d4;
    border-radius: 5px;
    background-color: #fff;
    transition: background-color 0.4s, border-color 0.3s;
    margin: 2px 3px;
    vertical-align: middle;
    max-width: 100%;
}

select:focus {
    border-color: #7c4dca;
    outline: none;
    box-shadow: 0 0 0 3px rgba(124, 77, 202, 0.18);
}

select.correct {
    background-color: #d4f4dd;
    border-color: #27ae60;
}

select.incorrect {
    background-color: #fffacd;
    border-color: #f39c12;
}

.form-area {
    margin-top: 50px;
    padding-top: 25px;
    border-top: 2px dashed #c8bfe0;
    text-align: center;
}

input[type="text"] {
    padding: 10px;
    width: 240px;
    max-width: 80%;
    margin: 10px 12px;
    border: 1px solid #b8a9d4;
    border-radius: 5px;
    font-size: 1.1em;
}

input[type="text"]:focus {
    border-color: #7c4dca;
    outline: none;
    box-shadow: 0 0 0 3px rgba(124, 77, 202, 0.18);
}

button {
    padding: 12px 30px;
    font-size: 1.15em;
    background: linear-gradient(135deg, #7c4dca, #5b3a8c);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: opacity 0.3s;
}

button:hover:not(:disabled) {
    opacity: 0.88;
}

button:disabled {
    background: #b8a9d4;
    cursor: not-allowed;
}

@media (max-width: 600px) {
    body {
        margin: 12px auto;
        padding: 0 12px;
    }
    h1 {
        font-size: 1.15em;
    }
    h2 {
        font-size: 1.05em;
    }
    .section {
        padding: 14px 14px;
        border-radius: 8px;
    }
    select {
        font-size: 0.95em;
        padding: 6px 6px;
    }
    input[type="text"] {
        width: 100%;
        max-width: 100%;
        margin: 8px 0;
        box-sizing: border-box;
    }
    .form-area label {
        display: block;
    }
}
</style>
</head>
<body>

<h1>Cloze Exercise – A Toothache and a String of Unfortunate Events</h1>
<p style="text-align:center; font-style:italic; color:#555;">
    Choose the best word or phrase for each gap.<br>
    (High A2 – Low B1 level)
</p>

<div class="section">
<h2>1. Waking Up to Disaster: Mark’s Painful Morning</h2>

<p><strong>Host</strong>: You ever have one of those mornings where everything goes
<select id="s1">
    <option>--select--</option>
    <option value="correct">sideways</option>
    <option>crooked</option>
    <option>backwards</option>
    <option>upside</option>
</select>
before you even get out the door?</p>

<p>Picture this: Mark wakes up with a toothache
<select id="s2">
    <option>--select--</option>
    <option value="correct">from hell</option>
    <option>from heaven</option>
    <option>of fire</option>
    <option>in pain</option>
</select>.
Like, one of those aches that just throbs in your jaw.</p>

<p><strong>Guest</strong>: Oh, I’ve been there! It’s like your whole day is doomed from the start. And with tooth pain, it feels like your brain is rattling in your skull. So, Mark calls his dentist
<select id="s3">
    <option>--select--</option>
    <option value="correct">in a panic</option>
    <option>in a hurry</option>
    <option>with fear</option>
    <option>by accident</option>
</select>,
right?</p>

<p><strong>Host</strong>: Exactly! He’s lucky—his dentist squeezes him in, but there’s a catch: don’t be late or you’re out of luck until tomorrow. No pressure! So Mark, even though his tooth is throbbing, grabs his toothbrush. He can’t face the dentist with gross breath.</p>

<p><strong>Guest</strong>: That's a true commitment to personal hygiene. He brushes, it’s agony, but he manages, grabs his coat and dashes outside. That’s when things really start to
<select id="s4">
    <option>--select--</option>
    <option value="correct">unravel</option>
    <option>finish</option>
    <option>improve</option>
    <option>connect</option>
</select>.</p>

<p><strong>Host</strong>: Yeah, it goes from bad to
<select id="s5">
    <option>--select--</option>
    <option value="correct">slapstick comedy</option>
    <option>perfect day</option>
    <option>quiet story</option>
    <option>normal life</option>
</select>
in seconds. You can just tell it’s going to be one of those stories.</p>
</div>


<div class="section">
<h2>2. A Crow, Shiny Keys, and a Muddy Disaster</h2>

<p><strong>Guest</strong>: So as Mark’s rushing, he gets to his car and—nothing. No beep, no welcome. He’s locked out because his key fob is inside. You can almost hear that
<select id="s6">
    <option>--select--</option>
    <option value="correct">sinking feeling</option>
    <option>rising hope</option>
    <option>happy thought</option>
    <option>strong idea</option>
</select>,
right?</p>

<p><strong>Host</strong>: Totally. He races back to the house, and then the scene turns from one chaotic event to another. He trips, his keys go flying, and before he even gets a chance to react, a huge crow swoops in and snatches them up!</p>

<p><strong>Guest</strong>: You're right, things went from bad to
<select id="s7">
    <option>--select--</option>
    <option value="correct">worse</option>
    <option>better</option>
    <option>best</option>
    <option>good</option>
</select>
in a flash. A crafty crow! Out of nowhere, takes Mark's keys. He tries to swipe at the bird but instead, he face-plants into a mud puddle.</p>

<p><strong>Guest</strong>: But little did he know, things were about to get even messier—literally and figuratively. He grabs a ladder to get into an unlocked window upstairs, but he reaches for the window, and ... like Humpty Dumpty ... has a great fall. Luckily there were bushes below — sticker bushes ... Ouch!</p>
</div>


<div class="section">
<h2>3. Neighborly Rescue: When Bad Luck Meets Good People</h2>

<p><strong>Host</strong>: So there’s Mark, muddy and scratched up, crawling out of the bushes. To say he was disheveled would be an understatement. I'm sure he was ready to call it
<select id="s8">
    <option>--select--</option>
    <option value="correct">quits</option>
    <option>starts</option>
    <option>days</option>
    <option>end</option>
</select>.</p>

<p><strong>Host</strong>: Honestly, I can’t blame Tom for wanting to laugh. Mark explaining the whole absurd morning while looking like he survived a mudslide must’ve been
<select id="s9">
    <option>--select--</option>
    <option value="correct">a sight</option>
    <option>a smell</option>
    <option>a sound</option>
    <option>a taste</option>
</select>.</p>

<p><strong>Guest</strong>: That’s real neighbor spirit. Tom just shrugs off the mess and says, 'That’s what good neighbors are for.' It’s such a perfect ending after all that chaos. Sometimes your luck turns around in the most unexpected way.</p>
</div>


<div class="form-area">
    <label>Name: <input type="text" id="name" placeholder="Your name" minlength="2"></label><br>
    <label>ID: <input type="text" id="id" placeholder="Your ID / number" minlength="2"></label><br><br>
    <button id="printBtn" disabled>Print / Save as PDF</button>
</div>

<script>
// ───────────────────────────────────────────────
// Randomly shuffle answer options on every page load
// ───────────────────────────────────────────────
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

document.addEventListener('DOMContentLoaded', () => {
    // Scramble options in all select elements
    document.querySelectorAll('select').forEach(select => {
        // Take all options EXCEPT the first one (--select--)
        let options = Array.from(select.options).slice(1);

        // Shuffle them
        options = shuffleArray(options);

        // Remove old answer options
        while (select.options.length > 1) {
            select.remove(1);
        }

        // Add back the shuffled ones
        options.forEach(opt => select.appendChild(opt));

        // Add color feedback when student chooses
        select.addEventListener('change', function() {
            if (this.value === 'correct') {
                this.classList.remove('incorrect');
                this.classList.add('correct');
            } else if (this.value !== '--select--') {
                this.classList.remove('correct');
                this.classList.add('incorrect');
            } else {
                this.classList.remove('correct', 'incorrect');
            }
        });
    });

    // Enable print button only when Name and ID both ≥ 2 characters
    const nameInput = document.getElementById('name');
    const idInput   = document.getElementById('id');
    const printBtn  = document.getElementById('printBtn');

    function checkInputs() {
        const nameVal = nameInput.value.trim();
        const idVal   = idInput.value.trim();
        printBtn.disabled = !(nameVal.length >= 2 && idVal.length >= 2);
    }

    nameInput.addEventListener('input', checkInputs);
    idInput.addEventListener('input', checkInputs);

    // Print when button clicked
    printBtn.addEventListener('click', () => {
        window.print();
    });
});
</script>

</body>
</html>
