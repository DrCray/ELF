<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>articlTemplV2</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .subtitle {
            text-align: center;
            color: #4863BC;
            font-weight: bold;
            font-size: 1.5rem;
            margin-bottom: .3rem;
        }
        
        .article-type {
            text-align: center;
            color: gray;
            font-size: 0.9em;
            margin-bottom: .3rem;
        }
        
        h2 {
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        p {
            text-align: left;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        strong, b {
            color: #2980b9;
            font-weight: 600;
        }
        
        em, i {
            color: #e67e22;
            font-style: italic;
        }
        
        .first-letter {
            float: left;
            font-size: 3em;
            line-height: 1;
            padding-right: 8px;
            padding-top: 4px;
            color: #3498db;
            font-weight: bold;
        }
        
        .discussion {
            margin-top: 40px;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        
        .discussion h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .discussion ol {
            padding-left: 20px;
        }
        
        .discussion li {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .getting-started {
            margin: 30px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .getting-started h2 {
            margin-top: 0;
            color: #495057;
        }
        
        .imageContainer {
          text-align: center; /* centers inline/inline-block content */
        }

        .imageContainer img {
          width: 90%;       /* always 90% of container's width */
          height: auto;     /* maintain aspect ratio */
          display: inline-block; /* needed for text-align center */
        }

        /*   */
        .edit-spacer{
            user-select:none;
        }
        /*  */
        .editor-panel{
            position:fixed;top:10px;right:10px;
            background:rgba(255,255,255,.97);
            padding:14px;
            border-radius:12px;
            box-shadow:0 4px 20px rgba(0,0,0,.15);
            z-index:9999;
            font-family:'Poppins',sans-serif;
            font-size:.85rem;
            min-width:10rem;
            max-width:15rem;
            }
        .editor-panel input,.editor-panel button{
            width:100%;
            margin:6px 0;
            padding:8px 10px;
            font-size:.85rem;
            border:1px solid #ddd;
            border-radius:6px
        }
        .editor-panel button{
            background:#ff6b6b;
            color:white;
            font-weight:600;
            cursor:pointer;
            transition:background .3s
        }
        .editor-panel button:hover{
            background:#4ecdc4
        }
        #linkBox{
            margin: 0 0 .4rem 0;
            border: thin solid purple;
            padding: 1rem;
            color:gray;
        }
        label {
            font-weight:bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="edit-spacer editMode">---------------------------------</div>

        <h1 contenteditable>Technology English</h1>
        <div class="edit-spacer editMode">---------------------------------</div>

        <div class="subtitle" contenteditable>Essay on Technology part 1</div>
        <div class="edit-spacer editMode">---------------------------------</div>

        <div class="article-type">[informative article]</div>
        <div class="edit-spacer editMode">---------------------------------</div>

        <div class="imageContainer">
            <img id="topImage" src="https://i.postimg.cc/xj6mcwy9/Essays-On-Technology1.jpg" alt="an image">
        </div>


        <div class="edit-spacer editMode">---------------------------------</div>

        <div class="getting-started" contenteditable>
            <h2>Getting Started</h2>
            <p>
Discuss the ways that you use technology everyday.
            </p>
        </div>
        <div class="edit-spacer editMode">---------------------------------</div>
        <div class="mainInformation" contenteditable>
        <p><span class="first-letter">T</span>he word "technology" and its uses have changed a lot since the 20th century, and with time, it has continued to <strong>evolve</strong>. We are living in a world <em>driven by</em> technology. The advancement of technology has played an important role in the development of human civilization and cultural interactions. Technology provides <strong>innovative</strong> ways in <strong>assisting</strong> us with our work, whether it be in communications, or industrial development.</p>
        
        <p>Electronic appliances, gadgets, faster modes of communication, and transportation have added comfort and convenience to our lives. It has helped in improving the <strong>productivity</strong> of individuals and business enterprises. It has <strong>revolutionized</strong> law enforcement through fields such as forensics, and medical research and practice. It has undoubtedly <em>made a significant contribution</em> to modern civilization.</p>
        
        <p>Technology has <strong>reduced</strong> the effort and time needed for <strong>tasks</strong> and improved the <strong>efficiency</strong> in almost every area of production.</p>
        
        <p>Technology has made our lives easy, comfortable, healthy, and enjoyable. It has become an <strong>integral</strong> part of our way of life.</p>
        
        <h2>Technology in Communication</h2>
        <p>With the <strong>advent</strong> of technology in communication, which includes telephones, fax machines, cell phones, the Internet, multimedia, and email, communication has become much faster and easier. It has <strong>transformed</strong> and <strong>influenced</strong> personal, governmental, and business relationships in many ways.</p>
        
        <p>We no longer need to <em>rely on</em> sending physical letters and waiting for several days for a <strong>response</strong>. Technology has made communication so simple that you can connect with anyone from anywhere by calling them via mobile phone or messaging them via messaging apps that are easy to download and <strong>install</strong>. Social networking sites, dating, and even matrimonial services are available on mobile applications and websites.</p>
        
        <p>Today, the Internet is used for shopping, paying utility bills, credit card bills, admission fees, e-commerce, and online banking. In the world of marketing, many companies are marketing and selling their products and creating brands over the internet.</p>
        
        <p>In the field of travel, cities, towns, states, and countries are using the web to post detailed tourist and event information. Travelers across the globe can easily find information on tourism, sightseeing, lodging accommodations, weather, maps, special events, and transportation schedules. They can buy travel tickets to tourist spots and destinations everywhere.</p>
        </div>

        <div class="edit-spacer editMode">---------------------------------</div>
        <div class="discussion" contenteditable>
            <h3>Discussion</h3>
            <ol>
                <li>What is technology? How do you define technology?</li>
                <li>How does technology assist us in our work?</li>
                <li>How has technology reduced the effort and time needed for tasks?</li>
                <li>Name one way in which technology has made production more efficient.</li>
                <li>How many different methods of communication can you name?</li>
                <li>Can you think of a way technology has transformed personal relationships? Governmental? Business?</li>
                <li>Explain how technology has made communication simple.</li>
                <li>What are some common things the internet is used for in today's world?</li>
                <li>In the field of travel, how is technology used?</li>
            </ol>
        </div>
    </div>
     <!-- EDITOR PANEL -->
  <div class="editor-panel editMode">
    <strong>Editor Tools</strong>
    <hr style="margin:8px 0;border:none;border-top:1px solid #eee">

    <label>Top Image<br><input id="topImageURL" placeholder="https://site/image.jpg"></label>
<hr>

<hr>
    <label>Link Text<br><input id="linkText" placeholder="e.g. Watch on YouTube"></label>
    <label>URL<br><input id="linkUrl" placeholder="e.g. https://youtu.be/..."></label>
    <label><input type="checkbox" id="blockDisplay"> Block display (right-aligned)</label>
    <button id="btnAddLink">Make Link</button>
    <div id="linkBox">
        Links appear here.<br>
        Copy/cut and paste in the document
    </div>
<hr>

<hr>
    <label>Save As<br><input id="filenameInput" value="myPage.html"></label>
    <button id="btnSave">Save as Local File</button>

  </div>


  <script>

document.getElementById('btnAddLink').addEventListener('click', function() {
    // Get the input values
    const linkText = document.getElementById('linkText').value.trim();
    const linkUrl = document.getElementById('linkUrl').value.trim();
    const blockDisplay = document.getElementById('blockDisplay').checked;

    // Validate that both fields have content
    if (!linkText || !linkUrl) {
        alert('Please enter both link text and URL');
        return;
    }

    // Validate URL format
    if (!isValidUrl(linkUrl)) {
        alert('Must be a valid URL (e.g., https://example.com)');
        return;
    }

    // Create the anchor element
    const anchor = document.createElement('a');
    anchor.href = linkUrl;
    anchor.textContent = linkText;
    anchor.target = '_blank';

    // Apply block display and right alignment if checked
    if (blockDisplay) {
        anchor.style.display = 'block';
        anchor.style.textAlign = 'right';
    }

    // Get the linkBox div
    const linkBox = document.getElementById('linkBox');

    // Clear the placeholder text on first link
    if (linkBox.textContent.includes('Links appear here')) {
        linkBox.innerHTML = '';
    }

    // Append the link to linkBox
    linkBox.appendChild(anchor);
    linkBox.appendChild(document.createElement('br')); // Add line break after each link

    // Clear the input fields
    document.getElementById('linkText').value = '';
    document.getElementById('linkUrl').value = '';
});

// URL validation function
function isValidUrl(string) {
    try {
        const url = new URL(string);
        // Check if protocol is http or https
        return url.protocol === 'http:' || url.protocol === 'https:';
    } catch (err) {
        return false;
    }
}



  // SAVE (WORKS: hides editMode and contenteditables)

// SAVE
document.getElementById('btnSave').onclick = () => {
    console.log('Save button clicked');

    document.getElementById('topImage').src = document.getElementById('topImageURL').value;

    // === SAVE EDITABLE VERSION FIRST ===
    let saveEditableVersion = confirm("Save an editable version first?\n(Recommended - you can always edit this file later)");
    console.log('1Save editable version:', saveEditableVersion);

    if (saveEditableVersion) {
        const baseName = document.getElementById('filenameInput').value.trim();
        console.log('2Base name:', baseName);

        const editHTML = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;
        console.log('3Edit HTML length:', editHTML.length);

        const editBlob = new Blob([editHTML], { type: 'text/html' });
        const editUrl = URL.createObjectURL(editBlob);
        const editA = document.createElement('a');
        const editName = baseName.replace(/\.html$/, '') + '_EditMode.html';
        console.log('4Edit filename:', editName);

        editA.href = editUrl;
        editA.download = editName;
        document.body.appendChild(editA);
        editA.click();
        console.log('5Edit version click triggered');
        document.body.removeChild(editA);
        URL.revokeObjectURL(editUrl);
    }

    // === NOW CREATE PUBLIC VERSION ===
    console.log('6Starting public version');

    // HIDE editMode elements
    const editElements = document.querySelectorAll('.editMode');
    console.log('7Edit elements found:', editElements.length);
    editElements.forEach(el => el.style.display = 'none');

    // DISABLE all contenteditable
    const editables = document.querySelectorAll('[contenteditable]');
    console.log('8Contenteditable elements found:', editables.length);
    editables.forEach(el => el.setAttribute('contenteditable', 'false'));

    // Capture publishable HTML
    const publicHTML = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;
    console.log('9Public HTML length:', publicHTML.length);

    // RESTORE all contenteditable to true
    editables.forEach(el => el.setAttribute('contenteditable', 'true'));

    // RESTORE editMode visibility
    editElements.forEach(el => el.style.display = 'block');

    // Download public version
    const blob = new Blob([publicHTML], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    const fileName = document.getElementById('filenameInput').value.trim();
    console.log('10Public filename:', fileName);

    a.href = url;
    a.download = fileName.replace(/\.html$/, '') + '.html';
    console.log('11Final download name:', a.download);

    document.body.appendChild(a);
    a.click();
    console.log('12Public version click triggered');
    document.body.removeChild(a);
    URL.revokeObjectURL(url);

    alert("13Public version saved to default download folder!");
};
  </script>

</body>
</html>
