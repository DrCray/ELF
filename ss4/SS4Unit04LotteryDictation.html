<!DOCTYPE html><html lang="en"><head>
        <meta charset="utf-8" content="Dr Ray EFL ESL, English learning">
		
		<!-- content attribute is for search engines -->		
		<meta name="quizMaker" content="English Learning Management Method">		

		<!-- Mobile responsiveness -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- xxxx  NO Cache  xxx   -->
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">
		
		
		<title>SS4Unit04LotteryDictation</title>
		
		<!-- link rel="stylesheet" href="style.css" --> 
		      
		<!-- <script src="script.js"></script -->
		

       
     <style>
body{
    font-family: sans-serif;
    background-color:  #d4e6f1  ;
    margin: 0 3em 0 3em;
    padding: 1ex 2ex 1ex 2ex;
}

:focus {outline:none;}
::-moz-focus-inner {border:0; }
   
   
   .fake-button {
       background-color: #E9E9ED; 
       border-style:solid; border-width:thin; border-radius: 5px;
       box-shadow: 1px 1px; padding: 0 1ex 0 1ex; font-size: 0.85em;

   }

  .fake-button:hover {
       background-color: lightblue;
        border-radius: 5px; box-shadow: 3px 3px gray;

   }
   
   /*  for <button> class="hltBtn"  */
   .hlBtn {border-radius:5px;}

   .hlBtn:hover {
       background-color:lightblue;  border-radius: 5px;
   }

          h1   {
               color: maroon;
               margin-left: 40px;
               }
    li {
        margin:0 0 1ex 0;
    }         
     </style>

</head>
  
<body>


<p><b contenteditable="false">Lotto Luck</b></p>
<div style="background-color:#fff; padding:1ex;" contenteditable="false">
<ol>
<li> Mr. Larkin was in line to buy a lottery ticket when a rude person cut in front of him</li>
<li> Mr. Larkin started to say something, but he let it go.</li>
<li> The rude person bought the losing lottery ticket, and Mr. Larkin bought the winning ticket.</li>
<li> He won 319 million dollars.</li>
<li> In the end, both people got what they deserved.</li>
<li> Mr. Faraday was unemployed and having a rough time.</li>
<li> His sister gave him twenty dollars to spend for fun, so he bought a lottery ticket.</li>
<li> Now everyone wants to be his friend because he is rich.</li> 
<li> It drives him crazy, but itâ€™s better than being unemployed.</li>
<li> Kerry is a single mother and was feeling quite stressed.</li> 
<li> She had a headache, so she went to buy some medicine.</li> 
<li> Suddenly, she decided to buy a lottery ticket.</li> 
<li> She won 3 million dollars.</li>
</ol>
</div>
 
<!--  ===============  SAVE THE DOM as FILE ==================== -->
    <div id="saveDom" style="background-color: cadetblue; width: fit-content; margin: 5px 0px 0px 1em; padding: 1ex; display: none;">
                
        <label style="background-color: antiquewhite;"> name the file before saving &nbsp;
          <input id="fileName" type="text" size="30" value="fileName">
        </label><br>  
        
      <button id="saveDownload" class="hlBtn" onclick="saveDom()">Save/Download</button>
    </div> 
      

      
      <script>
      function toggleEditOff(){
          
            document.getElementById("saveDom").style.display="none";
            
          let contEdbls = document.querySelectorAll('[contentEditable="true"]');
            for (const contEdbl of contEdbls) {
                contEdbl.contentEditable=false;
            }

        // end remove all editables ************************
      } //end toggleEditOFf
          
      function toggleEditOn(){
          
            document.getElementById("saveDom").style.display="block";
              
          let contEdbls = document.querySelectorAll('[contentEditable="false"]');
            for (const contEdbl of contEdbls) {
                contEdbl.contentEditable=true;
            }      
            
            //end restore editabels **********************
      }
        
      </script>
      

<script>
function saveDom(){
    
        oldTitle = document.title;
        let fileName = document.getElementById("fileName").value;
        document.title  = fileName; 
    
         //save theDom  editMode *************************
        let theDom = document.documentElement.innerHTML;
        //console.log(theDom);
        const docHtml = '<!DOCTYPE html><html lang="en">';
        const endHtml = '</html>';
        const fullHtmlDoc = docHtml + theDom + endHtml;


        // here we use Blob to set up a download link

        // (A) CREATE BLOB OBJECT
        const myBlob = new Blob([fullHtmlDoc], {type: "text/html"});

        // (B) CREATE DOWNLOAD LINK
        const url = window.URL.createObjectURL(myBlob);
        const anchor = document.createElement("a");
        anchor.href = url;
        anchor.download = fileName + "EditMode.html";

        anchor.click();
        window.URL.revokeObjectURL(url);
        //end save theDom editMode
    
        toggleEditOff();
    
           //  theDOM study mode
        let theDom2 = document.documentElement.innerHTML;
        const docHtml2 = '<!DOCTYPE html><html lang="en">';
        const endHtml2 = '</html>';
        const fullHtmlDoc2 = docHtml2 + theDom2 + endHtml2;

        // EditMode save .. here we use Blob to set up a download link

        // (A) CREATE BLOB OBJECT
        const myBlob2 = new Blob([fullHtmlDoc2], {type: "text/html"});

        // (B) CREATE DOWNLOAD LINK
        const url2 = window.URL.createObjectURL(myBlob2);
        const anchor2 = document.createElement("a");
        anchor2.href = url2;
        anchor2.download = fileName + ".html";

        anchor2.click();
        window.URL.revokeObjectURL(url2);
        //end the BLOB stuff and save
        
        alert("Check the browser's \n default download folder");
        
        toggleEditOn();
        document.title = oldTitle;        

}      
</script>
  
            
<footer style="margin:35px">     
      <p> ... end. </p>
</footer>
          

  
  

</body></html>
